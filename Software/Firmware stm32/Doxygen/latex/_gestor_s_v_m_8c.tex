\doxysection{Referencia del archivo C\+:/\+Users/\+User/\+Desktop/\+Proyecto\+Final-\/\+Grupo5-\/\+Variador\+De\+Frecuencia/\+Software/\+Firmware stm32/\+Modules/\+Gestor\+\_\+\+SVM/\+Gestor\+SVM.c}
\hypertarget{_gestor_s_v_m_8c}{}\label{_gestor_s_v_m_8c}\index{C:/Users/User/Desktop/ProyectoFinal-\/Grupo5-\/VariadorDeFrecuencia/Software/Firmware stm32/Modules/Gestor\_SVM/GestorSVM.c@{C:/Users/User/Desktop/ProyectoFinal-\/Grupo5-\/VariadorDeFrecuencia/Software/Firmware stm32/Modules/Gestor\_SVM/GestorSVM.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include "{}Gestor\+SVM.\+h"{}}\newline
{\ttfamily \#include "{}stm32f103xb.\+h"{}}\newline
{\ttfamily \#include "{}../\+Inc/main.\+h"{}}\newline
{\ttfamily \#include "{}../\+Gestor\+\_\+\+Estados/\+Gestor\+Estados.\+h"{}}\newline
{\ttfamily \#include "{}../\+Gestor\+\_\+\+Timers/\+Gestor\+Timers.\+h"{}}\newline
Gráfico de dependencias incluidas en Gestor\+SVM.\+c\+:
% FIG 0
\doxysubsubsection*{Estructuras de datos}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_dato_calculado}{Dato\+Calculado}}
\item 
struct \mbox{\hyperlink{struct_parametros}{Parametros}}
\begin{DoxyCompactList}\small\item\em Parámetros “sombra” para sincronización atómica con el lazo de cálculo. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{defines}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_gestor_s_v_m_8c_af525dcb5ad726f160c74b092470c3afb}{MAX\+\_\+\+TICKS}}~256
\begin{DoxyCompactList}\small\item\em ARR efectivo del timer de switching (resolución ≈ 256 pasos). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{_gestor_s_v_m_8c_a634f55921fd3d9991843a953d85b3e01}{TICKS\+\_\+\+DESHABILITAR\+\_\+\+CANAL}}~280
\begin{DoxyCompactList}\small\item\em Valor mayor a ARR para forzar que un CCR nunca dispare (deshabilitar canal por “posición imposible”). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{_gestor_s_v_m_8c_a088bc954e734e4a4c8cdfa28902631c8}{MIN\+\_\+\+TICKS\+\_\+\+DIF}}~5
\begin{DoxyCompactList}\small\item\em Mínima separación (en ticks) entre eventos para considerar que no hay interferencia entre t1/t2/t3. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{_gestor_s_v_m_8c_a72ff70b5c30d3fbd8b875ee71f24afa9}{BUFFER\+\_\+\+CALCULO\+\_\+\+SIZE}}~3
\begin{DoxyCompactList}\small\item\em Buffer circular (productor\+: timer de cálculo; consumidor\+: timer de switching). \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Constantes de cálculo t1/t2 por regresión lineal}\par
{\em t1 y t2 se obtienen con una regresión lineal en función del ángulo parcial y el índice de modulación. }\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_gestor_s_v_m_8c_a8b94ecc4fd06bed94b55092056382bb9}{CONST\+\_\+\+CALC\+\_\+\+T1\+\_\+\+PROP}}~(float)-\/3.\+59145E-\/6
\item 
\#define \mbox{\hyperlink{_gestor_s_v_m_8c_a0b5e83d84abb0cd4e75397109803b9b1}{CONST\+\_\+\+CALC\+\_\+\+T1\+\_\+\+ORD\+\_\+\+ORG}}~(float)224.\+2845426
\item 
\#define \mbox{\hyperlink{_gestor_s_v_m_8c_a1a974e97a1f4cb13b8e18c1d14282d7e}{CONST\+\_\+\+CALC\+\_\+\+T2\+\_\+\+PROP}}~(float)+3.\+59145E-\/6
\item 
\#define \mbox{\hyperlink{_gestor_s_v_m_8c_aceca7678832e5d75c230eb52a7ab07c8}{CONST\+\_\+\+CALC\+\_\+\+T2\+\_\+\+ORD\+\_\+\+ORG}}~(float)8.\+797345358
\end{DoxyCompactItemize}
\end{Indent}
\doxysubsubsection*{Enumeraciones}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913}{Caso\+Interferencia\+Timer}} \{ \newline
\mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a535edbda6e7cbf04c34c8e2ddbaa068e}{INTERF\+\_\+\+NULA}} = 0
, \mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913ad8ebdbe564fda2e464e021ce1c6c89d5}{INTERF\+\_\+\+T1\+T2}}
, \mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a3a22e2ff4e067e01c4129d1cdca6e5a2}{INTERF\+\_\+\+T1\+T3}}
, \mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a2fb31e62eb904a81a91b0c8c6359de65}{INTERF\+\_\+\+T2\+T3}}
, \newline
\mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913af08e64b327401299ee2989ce09d47d4a}{INTERF\+\_\+\+T1\+T2\+\_\+\+T2\+T3}}
 \}
\begin{DoxyCompactList}\small\item\em Casos de interferencia temporal entre eventos t1/t2/t3 (demasiado cercanos). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{_gestor_s_v_m_8c_a510e4ee2d2a2ae17c44785899e0e5844}{Gestor\+SVM\+\_\+\+Calculoaceleracioneracion}} (void)
\begin{DoxyCompactList}\small\item\em Aplica la rampa de velocidad (aceleracion/desaceleracion) sobre \doxylink{_gestor_s_v_m_8c_ab395be599c2e377eea2a91e52cd3b170}{frecuencia\+Salida} y actualiza flags/estado. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{_gestor_s_v_m_8c_ace22621aa363cb91c5b18fb80fb8d4b5}{pin\+Map}} (int x)
\begin{DoxyCompactList}\small\item\em Convierte el XOR de estados (bit U/\+V/W) al índice interno \{0,1,2\}. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_gestor_s_v_m_8c_a5d24428836578e5723a5385d49ab44c7}{Gestor\+SVM\+\_\+\+Calcular\+Valores\+Switching}} (void)
\begin{DoxyCompactList}\small\item\em Calcula t1, t2 y t0 (y casos de interferencia) y los deja en \doxylink{_gestor_s_v_m_8c_a65160f043db92066d395ee01d617c06f}{ticks\+Channel}\mbox{[}\mbox{]}. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_gestor_s_v_m_8c_aab94327b81298999f1f2e8374495f521}{Gestor\+SVM\+\_\+\+Switch\+Interrupt}} (\mbox{\hyperlink{_gestor_s_v_m_8h_ac12e123ca97cf2482882646d5e67767e}{Switch\+Interrupt\+Type}} int\+Type)
\begin{DoxyCompactList}\small\item\em Handler interno llamado por el ISR de TIM3 según la fuente (CH1..CH4, RESET, CLEAN). \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_gestor_s_v_m_8c_acb6435274a6164fddc89ab33bc3dfd09}{Gestor\+SVM\+\_\+\+Switch\+Puertos}} (\mbox{\hyperlink{_gestor_s_v_m_8h_a2cb06ce2ec272b92651a6472f0723580}{Orden\+Switch}} orden, char estado, int num\+Cuadrante)
\begin{DoxyCompactList}\small\item\em Escribe en BSRR los pines correspondientes a la orden y cuadrante. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_gestor_s_v_m_8c_a17fd8593a56939f1777cfdbed0db0334}{Gestor\+SVM\+\_\+\+Set\+Configuration}} (\mbox{\hyperlink{struct_configuracion_s_v_m}{Configuracion\+SVM}} \texorpdfstring{$\ast$}{*}configuracion)
\begin{DoxyCompactList}\small\item\em Carga la configuración base de SVM y prepara tablas de BSRR por cuadrante. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_gestor_s_v_m_8c_adabb99ea058e641f0e9431b537b9705b}{Gestor\+SVM\+\_\+\+Calc\+Interrupt}} ()
\begin{DoxyCompactList}\small\item\em Handler llamado por el timer de cálculo (productor). Encola t1/t2/t3 si hay espacio. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_a8da78eb6c3f1e8cd6be888fe9f7fce89}{Gestor\+SVM\+\_\+\+Set\+Frec}} (int frec)
\begin{DoxyCompactList}\small\item\em Solicita nueva frecuencia objetivo (Hz). Inicia rampa si el motor está en marcha. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_a7cb0adcba1ed421b2ccb337faec3bb06}{Gestor\+SVM\+\_\+\+Set\+Dir}} (int dir)
\begin{DoxyCompactList}\small\item\em Cambia el sentido de giro si el motor está detenido. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_a123fdc53095f5297ce6b01119c69c043}{Gestor\+SVM\+\_\+\+Setaceleracion}} (int nuevaaceleracion)
\begin{DoxyCompactList}\small\item\em Actualiza acelerada \mbox{[}Hz/s\mbox{]}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_af72bd515620559dd404ac8395ba10bec}{Gestor\+SVM\+\_\+\+Set\+Decel}} (int nueva\+Decel)
\begin{DoxyCompactList}\small\item\em Actualiza desacelerada \mbox{[}Hz/s\mbox{]}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_a0524c323e42d243efaacd375836c2cfb}{Gestor\+SVM\+\_\+\+Motor\+Start}} ()
\begin{DoxyCompactList}\small\item\em Arranca el motor\+: habilita drivers, inicia timers y rampa hacia \doxylink{_gestor_s_v_m_8c_a62d70cb530b832d93219406698aa9a3f}{frecuencia\+Referenica}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_adf2028330d7896b6f9a467dc57d5eac4}{Gestor\+SVM\+\_\+\+Motor\+Stop}} ()
\begin{DoxyCompactList}\small\item\em Ordena frenado con rampa de \doxylink{_gestor_s_v_m_8c_a73da6448f1aebaa17720928dbd2e32cc}{desaceleracion} hasta 0 Hz. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_a63c6e1ceb949ac408d9516d4cb5be686}{Gestor\+SVM\+\_\+\+Estop}} ()
\begin{DoxyCompactList}\small\item\em Parada de emergencia inmediata\+: desactiva timers, apaga drivers y salidas. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_a0c781546371d716ca8146f4d0160460f}{Gestor\+SVM\+\_\+\+Get\+Frec}} ()
\begin{DoxyCompactList}\small\item\em Devuelve la frecuencia de referencia configurada (Hz). \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_a194a2627a7348ecaf125a03508239ef6}{Gestor\+SVM\+\_\+\+Getaceleracion}} ()
\begin{DoxyCompactList}\small\item\em Devuelve acelerada actual \mbox{[}Hz/s\mbox{]}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_ae9fad44bd4d57af9bc9ac4f482ea5fae}{Gestor\+SVM\+\_\+\+Get\+Desaceleracion}} ()
\begin{DoxyCompactList}\small\item\em Devuelve desacelerada actual \mbox{[}Hz/s\mbox{]}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_a17bf21f94ae6073c66662117de912850}{Gestor\+SVM\+\_\+\+Get\+Dir}} ()
\begin{DoxyCompactList}\small\item\em Devuelve sentido de giro (1 horario, -\/1 antihorario). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_gestor_s_v_m_8c_a1fc39499fe9db8b7fb88005e9f107a36}{HAL\+\_\+\+TIM\+\_\+\+OC\+\_\+\+Delay\+Elapsed\+Callback}} (TIM\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}htim)
\begin{DoxyCompactList}\small\item\em Callback HAL de Output Compare\+: enruta eventos CCR de TIM3 a \doxylink{_gestor_s_v_m_8c_aab94327b81298999f1f2e8374495f521}{Gestor\+SVM\+\_\+\+Switch\+Interrupt}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{_gestor_s_v_m_8c_a4c4df3579e27c8ab2ddcba0e0420523d}{frecuencia\+Switching}}
\begin{DoxyCompactList}\small\item\em Frecuencia de switching \mbox{[}Hz\mbox{]} (TIM3). \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{_gestor_s_v_m_8c_ae76293000b309473e1e360f8a7ed9d23}{direccion\+Rotacion}} = 1
\begin{DoxyCompactList}\small\item\em Sentido de rotación\+: 1 horario, -\/1 antihorario. \end{DoxyCompactList}\item 
static int32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_ab395be599c2e377eea2a91e52cd3b170}{frecuencia\+Salida}}
\begin{DoxyCompactList}\small\item\em Frecuencia de salida INSTANTÁ\+NEA (escalada ×1e6) usada por el lazo de rampa. \end{DoxyCompactList}\item 
static uint32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_abf2857a4c393671f47a1c040235ce0be}{angulo\+Switching}}
\begin{DoxyCompactList}\small\item\em Incremento angular por switching (grados×1e3). \end{DoxyCompactList}\item 
static volatile int \mbox{\hyperlink{_gestor_s_v_m_8c_a92a5f7a38fd8fadfde145a057abe1dce}{indice\+Modulacion}}
\begin{DoxyCompactList}\small\item\em Índice de modulación (0..100). Controla la tensión de salida. La relación v/f debe ser constante. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{_gestor_s_v_m_8c_a1c6352a5b38f1b11e9d1419fa3131452}{aceleracion}}
\begin{DoxyCompactList}\small\item\em acelerada configurada \mbox{[}Hz/s\mbox{]}. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{_gestor_s_v_m_8c_a73da6448f1aebaa17720928dbd2e32cc}{desaceleracion}}
\begin{DoxyCompactList}\small\item\em Desacelerada configurada \mbox{[}Hz/s\mbox{]}. \end{DoxyCompactList}\item 
static uint32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_aebd08571e5da918d81a6b301cc8143cd}{angulo\+Actual}}
\begin{DoxyCompactList}\small\item\em Ángulo absoluto (grados×1e3). \end{DoxyCompactList}\item 
static int32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_a840b47b2f587bf1efae83d4e07b57fde}{angulo\+Parcial}}
\begin{DoxyCompactList}\small\item\em Ángulo parcial 0..60° (grados×1e3), usado para t1/t2. Puede ser negativo durante el diente. \end{DoxyCompactList}\item 
static volatile int \mbox{\hyperlink{_gestor_s_v_m_8c_a7fb4c953b417b232d38613e87f190ab7}{cuadrante\+Actual}}
\begin{DoxyCompactList}\small\item\em Cuadrante SVM actual (0..5). \end{DoxyCompactList}\item 
const int \mbox{\hyperlink{_gestor_s_v_m_8c_af36839c37ceddc6429a4d0f86e145d2c}{vector\+Secuencia\+Por\+Cuadrante}} \mbox{[}6\mbox{]}\mbox{[}7\mbox{]}
\begin{DoxyCompactList}\small\item\em Secuencia SVM por cuadrante (V0→\+V1→\+V2→\+V7→\+V2→\+V1→\+V0). \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gestor_s_v_m_8c_ab355d83e3c8f06aa34a64001eeae7c6b}{pin\+Toggle\+Por\+Cuadrante\+YOrden}} \mbox{[}6\mbox{]}\mbox{[}3\mbox{]}
\begin{DoxyCompactList}\small\item\em Mapa de qué pin conmuta en cada orden y cuadrante. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_a096d4dcc733cc7d3cb3b2b2761ad74b4}{estado\+GPIOPor\+Cuadrante\+YOrden}} \mbox{[}6\mbox{]}\mbox{[}2\mbox{]}
\begin{DoxyCompactList}\small\item\em Palabras BSRR precalculadas por cuadrante/estado (0/1). \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_a7f0cb87b586cca67054c90a4539d1b0d}{estado\+GPIOOff}}
\begin{DoxyCompactList}\small\item\em BSRR para apagar U/\+V/W simultáneo. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_a33806fcd4c3cc2167b449ba073d36281}{estado\+GPIOOn}}
\begin{DoxyCompactList}\small\item\em BSRR para encender U/\+V/W simultáneo. \end{DoxyCompactList}\item 
static volatile char \mbox{\hyperlink{_gestor_s_v_m_8c_a722b3f89eeea95c0565294e0419fc801}{flag\+Ascenso\+Angulo\+Parcial}} = 1
\begin{DoxyCompactList}\small\item\em Bandera de rampa del ángulo parcial (subida/bajada en diente). \end{DoxyCompactList}\item 
static volatile char \mbox{\hyperlink{_gestor_s_v_m_8c_a2fa87ffbab029a07fd246d47e0a75aa7}{estado\+Logico\+Salida}} \mbox{[}3\mbox{]}
\begin{DoxyCompactList}\small\item\em Estado lógico de salidas U/\+V/W (para depuración). \end{DoxyCompactList}\item 
static volatile int \mbox{\hyperlink{_gestor_s_v_m_8c_a65160f043db92066d395ee01d617c06f}{ticks\+Channel}} \mbox{[}3\mbox{]}
\begin{DoxyCompactList}\small\item\em t1/t2/t3 en ticks para el ciclo actual. \end{DoxyCompactList}\item 
static volatile \mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913}{Caso\+Interferencia\+Timer}} \mbox{\hyperlink{_gestor_s_v_m_8c_a148644d9ebb39ea4dfa6fbf6da13229a}{caso\+Interferencia}}
\begin{DoxyCompactList}\small\item\em Caso de interferencia detectado para el ciclo actual. \end{DoxyCompactList}\item 
static volatile int32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_a133e313d057f9cf8e8a9bbff80f96630}{frec\+Objetivo}}
\begin{DoxyCompactList}\small\item\em Frecuencia objetivo (target) escalada ×1e6. \end{DoxyCompactList}\item 
static volatile int \mbox{\hyperlink{_gestor_s_v_m_8c_a52252528ca7defa6f8de419143b30100}{flag\+Changing\+Frecuencia}}
\begin{DoxyCompactList}\small\item\em Indica cambio de frecuencia en curso (rampa activa). \end{DoxyCompactList}\item 
static volatile int \mbox{\hyperlink{_gestor_s_v_m_8c_a211a2b89c92027a6f5a6edbfffa2dd78}{flag\+Es\+Acelerado}}
\begin{DoxyCompactList}\small\item\em 1 si la rampa corresponde a una aceleración, 0 para desaceleración. \end{DoxyCompactList}\item 
static volatile int \mbox{\hyperlink{_gestor_s_v_m_8c_a2f5156ba4efc07e0f2f1a04991fcfdae}{flag\+Motor\+Running}}
\begin{DoxyCompactList}\small\item\em 1 si el motor está en movimiento. \end{DoxyCompactList}\item 
static volatile int \mbox{\hyperlink{_gestor_s_v_m_8c_a62d70cb530b832d93219406698aa9a3f}{frecuencia\+Referenica}}
\begin{DoxyCompactList}\small\item\em Frecuencia “de referencia” reportada (Hz). \end{DoxyCompactList}\item 
static volatile uint32\+\_\+t \mbox{\hyperlink{_gestor_s_v_m_8c_aa16dda675dd4a2086e73b0c8374922ca}{cambio\+Frecuencia\+Por\+Ciclo}}
\begin{DoxyCompactList}\small\item\em Delta por ciclo de switching (escalado ×1e6) para la rampa. \end{DoxyCompactList}\item 
volatile \mbox{\hyperlink{struct_valores_switching}{Valores\+Switching}} \mbox{\hyperlink{_gestor_s_v_m_8c_ab255bd83f3ca54f5a92fd9a4bb021c41}{valores\+Switching}}
\begin{DoxyCompactList}\small\item\em Estructura auxiliar de switching usada por el ISR. \end{DoxyCompactList}\item 
volatile \mbox{\hyperlink{struct_dato_calculado}{Dato\+Calculado}} \mbox{\hyperlink{_gestor_s_v_m_8c_a69e96d0fb1e5973bd8aeec118dcee1dc}{buffer\+Calculo}}
\item 
volatile \mbox{\hyperlink{struct_parametros}{Parametros}} \mbox{\hyperlink{_gestor_s_v_m_8c_a59292e9c522e99e3b641c09a7ef71fab}{param\+Sombra}}
\item 
volatile int \mbox{\hyperlink{_gestor_s_v_m_8c_a1bdc9a3f642943b4f4e2282a234d5346}{flag\+Actualizar\+Param\+Sombra}}
\end{DoxyCompactItemize}


\label{doc-define-members}
\Hypertarget{_gestor_s_v_m_8c_doc-define-members}
\doxysubsection{Documentación de «define»}
\Hypertarget{_gestor_s_v_m_8c_a72ff70b5c30d3fbd8b875ee71f24afa9}\index{GestorSVM.c@{GestorSVM.c}!BUFFER\_CALCULO\_SIZE@{BUFFER\_CALCULO\_SIZE}}
\index{BUFFER\_CALCULO\_SIZE@{BUFFER\_CALCULO\_SIZE}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{BUFFER\_CALCULO\_SIZE}{BUFFER\_CALCULO\_SIZE}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a72ff70b5c30d3fbd8b875ee71f24afa9} 
\#define BUFFER\+\_\+\+CALCULO\+\_\+\+SIZE~3}



Buffer circular (productor\+: timer de cálculo; consumidor\+: timer de switching). 

Tamaño fijo 3\+: el productor se detiene si está lleno. 

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00132}{132}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a0b5e83d84abb0cd4e75397109803b9b1}\index{GestorSVM.c@{GestorSVM.c}!CONST\_CALC\_T1\_ORD\_ORG@{CONST\_CALC\_T1\_ORD\_ORG}}
\index{CONST\_CALC\_T1\_ORD\_ORG@{CONST\_CALC\_T1\_ORD\_ORG}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{CONST\_CALC\_T1\_ORD\_ORG}{CONST\_CALC\_T1\_ORD\_ORG}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a0b5e83d84abb0cd4e75397109803b9b1} 
\#define CONST\+\_\+\+CALC\+\_\+\+T1\+\_\+\+ORD\+\_\+\+ORG~(float)224.\+2845426}



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00044}{44}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a8b94ecc4fd06bed94b55092056382bb9}\index{GestorSVM.c@{GestorSVM.c}!CONST\_CALC\_T1\_PROP@{CONST\_CALC\_T1\_PROP}}
\index{CONST\_CALC\_T1\_PROP@{CONST\_CALC\_T1\_PROP}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{CONST\_CALC\_T1\_PROP}{CONST\_CALC\_T1\_PROP}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a8b94ecc4fd06bed94b55092056382bb9} 
\#define CONST\+\_\+\+CALC\+\_\+\+T1\+\_\+\+PROP~(float)-\/3.\+59145E-\/6}



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00043}{43}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_aceca7678832e5d75c230eb52a7ab07c8}\index{GestorSVM.c@{GestorSVM.c}!CONST\_CALC\_T2\_ORD\_ORG@{CONST\_CALC\_T2\_ORD\_ORG}}
\index{CONST\_CALC\_T2\_ORD\_ORG@{CONST\_CALC\_T2\_ORD\_ORG}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{CONST\_CALC\_T2\_ORD\_ORG}{CONST\_CALC\_T2\_ORD\_ORG}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_aceca7678832e5d75c230eb52a7ab07c8} 
\#define CONST\+\_\+\+CALC\+\_\+\+T2\+\_\+\+ORD\+\_\+\+ORG~(float)8.\+797345358}



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00046}{46}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a1a974e97a1f4cb13b8e18c1d14282d7e}\index{GestorSVM.c@{GestorSVM.c}!CONST\_CALC\_T2\_PROP@{CONST\_CALC\_T2\_PROP}}
\index{CONST\_CALC\_T2\_PROP@{CONST\_CALC\_T2\_PROP}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{CONST\_CALC\_T2\_PROP}{CONST\_CALC\_T2\_PROP}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a1a974e97a1f4cb13b8e18c1d14282d7e} 
\#define CONST\+\_\+\+CALC\+\_\+\+T2\+\_\+\+PROP~(float)+3.\+59145E-\/6}



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00045}{45}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_af525dcb5ad726f160c74b092470c3afb}\index{GestorSVM.c@{GestorSVM.c}!MAX\_TICKS@{MAX\_TICKS}}
\index{MAX\_TICKS@{MAX\_TICKS}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{MAX\_TICKS}{MAX\_TICKS}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_af525dcb5ad726f160c74b092470c3afb} 
\#define MAX\+\_\+\+TICKS~256}



ARR efectivo del timer de switching (resolución ≈ 256 pasos). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00026}{26}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a088bc954e734e4a4c8cdfa28902631c8}\index{GestorSVM.c@{GestorSVM.c}!MIN\_TICKS\_DIF@{MIN\_TICKS\_DIF}}
\index{MIN\_TICKS\_DIF@{MIN\_TICKS\_DIF}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{MIN\_TICKS\_DIF}{MIN\_TICKS\_DIF}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a088bc954e734e4a4c8cdfa28902631c8} 
\#define MIN\+\_\+\+TICKS\+\_\+\+DIF~5}



Mínima separación (en ticks) entre eventos para considerar que no hay interferencia entre t1/t2/t3. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00038}{38}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a634f55921fd3d9991843a953d85b3e01}\index{GestorSVM.c@{GestorSVM.c}!TICKS\_DESHABILITAR\_CANAL@{TICKS\_DESHABILITAR\_CANAL}}
\index{TICKS\_DESHABILITAR\_CANAL@{TICKS\_DESHABILITAR\_CANAL}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{TICKS\_DESHABILITAR\_CANAL}{TICKS\_DESHABILITAR\_CANAL}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a634f55921fd3d9991843a953d85b3e01} 
\#define TICKS\+\_\+\+DESHABILITAR\+\_\+\+CANAL~280}



Valor mayor a ARR para forzar que un CCR nunca dispare (deshabilitar canal por “posición imposible”). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00032}{32}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.



\label{doc-enum-members}
\Hypertarget{_gestor_s_v_m_8c_doc-enum-members}
\doxysubsection{Documentación de enumeraciones}
\Hypertarget{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913}\index{GestorSVM.c@{GestorSVM.c}!CasoInterferenciaTimer@{CasoInterferenciaTimer}}
\index{CasoInterferenciaTimer@{CasoInterferenciaTimer}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{CasoInterferenciaTimer}{CasoInterferenciaTimer}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913} 
enum \mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913}{Caso\+Interferencia\+Timer}}}



Casos de interferencia temporal entre eventos t1/t2/t3 (demasiado cercanos). 

\begin{DoxyEnumFields}[2]{Valores de enumeraciones}
\raisebox{\heightof{T}}[0pt][0pt]{\index{INTERF\_NULA@{INTERF\_NULA}!GestorSVM.c@{GestorSVM.c}}\index{GestorSVM.c@{GestorSVM.c}!INTERF\_NULA@{INTERF\_NULA}}}\Hypertarget{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a535edbda6e7cbf04c34c8e2ddbaa068e}\label{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a535edbda6e7cbf04c34c8e2ddbaa068e} 
INTERF\+\_\+\+NULA&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{INTERF\_T1T2@{INTERF\_T1T2}!GestorSVM.c@{GestorSVM.c}}\index{GestorSVM.c@{GestorSVM.c}!INTERF\_T1T2@{INTERF\_T1T2}}}\Hypertarget{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913ad8ebdbe564fda2e464e021ce1c6c89d5}\label{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913ad8ebdbe564fda2e464e021ce1c6c89d5} 
INTERF\+\_\+\+T1\+T2&Sin interferencias. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{INTERF\_T1T3@{INTERF\_T1T3}!GestorSVM.c@{GestorSVM.c}}\index{GestorSVM.c@{GestorSVM.c}!INTERF\_T1T3@{INTERF\_T1T3}}}\Hypertarget{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a3a22e2ff4e067e01c4129d1cdca6e5a2}\label{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a3a22e2ff4e067e01c4129d1cdca6e5a2} 
INTERF\+\_\+\+T1\+T3&t1 y t2 demasiado cercanos. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{INTERF\_T2T3@{INTERF\_T2T3}!GestorSVM.c@{GestorSVM.c}}\index{GestorSVM.c@{GestorSVM.c}!INTERF\_T2T3@{INTERF\_T2T3}}}\Hypertarget{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a2fb31e62eb904a81a91b0c8c6359de65}\label{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913a2fb31e62eb904a81a91b0c8c6359de65} 
INTERF\+\_\+\+T2\+T3&t1 y t3 demasiado cercanos. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{INTERF\_T1T2\_T2T3@{INTERF\_T1T2\_T2T3}!GestorSVM.c@{GestorSVM.c}}\index{GestorSVM.c@{GestorSVM.c}!INTERF\_T1T2\_T2T3@{INTERF\_T1T2\_T2T3}}}\Hypertarget{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913af08e64b327401299ee2989ce09d47d4a}\label{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913af08e64b327401299ee2989ce09d47d4a} 
INTERF\+\_\+\+T1\+T2\+\_\+\+T2\+T3&t2 y t3 demasiado cercanos. t1\texorpdfstring{$\sim$}{\string~}t2 y t2\texorpdfstring{$\sim$}{\string~}t3 simultáneamente. \\
\hline

\end{DoxyEnumFields}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00053}{53}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.



\label{doc-func-members}
\Hypertarget{_gestor_s_v_m_8c_doc-func-members}
\doxysubsection{Documentación de funciones}
\Hypertarget{_gestor_s_v_m_8c_adabb99ea058e641f0e9431b537b9705b}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_CalcInterrupt@{GestorSVM\_CalcInterrupt}}
\index{GestorSVM\_CalcInterrupt@{GestorSVM\_CalcInterrupt}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_CalcInterrupt()}{GestorSVM\_CalcInterrupt()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_adabb99ea058e641f0e9431b537b9705b} 
void Gestor\+SVM\+\_\+\+Calc\+Interrupt (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Handler llamado por el timer de cálculo (productor). Encola t1/t2/t3 si hay espacio. 

ISR (o handler llamado por ISR) del timer de cálculo.

Corre a 2× \doxylink{_gestor_s_v_m_8h_a74dcab45393b4970a5499786793fb1d7}{FREC\+\_\+\+SWITCH} (según tu diseño) para anticipar cómputos\+: si el buffer circular tiene espacio, calcula t1/t2/t3, cuadrante y posibles interferencias, y los encola para que el timer de switching (TIM3) los consuma. No bloquea si el buffer está lleno. \begin{DoxyNote}{Nota}
Tamaño de buffer\+: 3 entradas (pipeline productor/consumidor). 
\end{DoxyNote}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00640}{640}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas de esta función\+:
% FIG 1
Gráfico de llamadas a esta función\+:
% FIG 2
\Hypertarget{_gestor_s_v_m_8c_a5d24428836578e5723a5385d49ab44c7}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_CalcularValoresSwitching@{GestorSVM\_CalcularValoresSwitching}}
\index{GestorSVM\_CalcularValoresSwitching@{GestorSVM\_CalcularValoresSwitching}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_CalcularValoresSwitching()}{GestorSVM\_CalcularValoresSwitching()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a5d24428836578e5723a5385d49ab44c7} 
void Gestor\+SVM\+\_\+\+Calcular\+Valores\+Switching (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calcula t1, t2 y t0 (y casos de interferencia) y los deja en \doxylink{_gestor_s_v_m_8c_a65160f043db92066d395ee01d617c06f}{ticks\+Channel}\mbox{[}\mbox{]}. 


\begin{DoxyItemize}
\item Actualiza ángulos ( \doxylink{_gestor_s_v_m_8c_aebd08571e5da918d81a6b301cc8143cd}{angulo\+Actual} y \doxylink{_gestor_s_v_m_8c_a840b47b2f587bf1efae83d4e07b57fde}{angulo\+Parcial}) y \doxylink{_gestor_s_v_m_8c_a7fb4c953b417b232d38613e87f190ab7}{cuadrante\+Actual}.
\item t1/t2 por regresión lineal (constantes CONST\+\_\+\+CALC\+\_\+T\texorpdfstring{$\ast$}{*} y \doxylink{_gestor_s_v_m_8c_a92a5f7a38fd8fadfde145a057abe1dce}{indice\+Modulacion}).
\item t0 = (255 -\/ t1 -\/ t2)/2. Luego\+: ticks\+C1=t0, ticks\+C2=t0+t1, ticks\+C3=t0+t1+t2.
\item Clasifica interferencias según \doxylink{_gestor_s_v_m_8c_a088bc954e734e4a4c8cdfa28902631c8}{MIN\+\_\+\+TICKS\+\_\+\+DIF} y setea \doxylink{_gestor_s_v_m_8c_a148644d9ebb39ea4dfa6fbf6da13229a}{caso\+Interferencia}. 
\end{DoxyItemize}

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00238}{238}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas de esta función\+:
% FIG 3
Gráfico de llamadas a esta función\+:
% FIG 4
\Hypertarget{_gestor_s_v_m_8c_a510e4ee2d2a2ae17c44785899e0e5844}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_Calculoaceleracioneracion@{GestorSVM\_Calculoaceleracioneracion}}
\index{GestorSVM\_Calculoaceleracioneracion@{GestorSVM\_Calculoaceleracioneracion}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_Calculoaceleracioneracion()}{GestorSVM\_Calculoaceleracioneracion()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a510e4ee2d2a2ae17c44785899e0e5844} 
void Gestor\+SVM\+\_\+\+Calculoaceleracioneracion (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Aplica la rampa de velocidad (aceleracion/desaceleracion) sobre \doxylink{_gestor_s_v_m_8c_ab395be599c2e377eea2a91e52cd3b170}{frecuencia\+Salida} y actualiza flags/estado. 


\begin{DoxyItemize}
\item Si \doxylink{_gestor_s_v_m_8c_a1bdc9a3f642943b4f4e2282a234d5346}{flag\+Actualizar\+Param\+Sombra} está activo, copia los parámetros de \doxylink{_gestor_s_v_m_8c_a59292e9c522e99e3b641c09a7ef71fab}{param\+Sombra}.
\item Ajusta \doxylink{_gestor_s_v_m_8c_ab395be599c2e377eea2a91e52cd3b170}{frecuencia\+Salida} en ± \doxylink{_gestor_s_v_m_8c_aa16dda675dd4a2086e73b0c8374922ca}{cambio\+Frecuencia\+Por\+Ciclo} hasta llegar a \doxylink{_gestor_s_v_m_8c_a133e313d057f9cf8e8a9bbff80f96630}{frec\+Objetivo}.
\item Al llegar a 0 Hz\+: detiene timers, limpia buffer, apaga GPIO y notifica \doxylink{_gestor_estados_8h_aeb5a7529a34b855a5dcc68a6acc1203ca02e4f329c3a2d677cb3e9d9fea2e8e28}{ACTION\+\_\+\+MOTOR\+\_\+\+STOPPED}. \begin{DoxyNote}{Nota}
En esta funcion se puede llegar a dar una incoherencia debido a la sincronizacion de las variables sombra. Si se esta ejecutando un cambio de frecuencia en la funcion Gestor\+SVM\+\_\+\+Set\+Frec\+Out, es decir que se habia escrito flag\+Changing\+Frec y antes de llegar levantar el flag\+Actualizar\+Param\+Sombra, justo en ese momento llega una interrupcion de este timer de calculo y en esa iteracion se terminaba de llegar a la velocidad taget. En ese caso se va a pisar ese flag\+Changing\+Frec y se va a quedar como si nunca hubiese pasado. Debido a que es un caso muy extremo no se analiza 
\end{DoxyNote}

\end{DoxyItemize}

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00513}{513}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas de esta función\+:
% FIG 5
Gráfico de llamadas a esta función\+:
% FIG 6
\Hypertarget{_gestor_s_v_m_8c_a63c6e1ceb949ac408d9516d4cb5be686}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_Estop@{GestorSVM\_Estop}}
\index{GestorSVM\_Estop@{GestorSVM\_Estop}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_Estop()}{GestorSVM\_Estop()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a63c6e1ceb949ac408d9516d4cb5be686} 
int Gestor\+SVM\+\_\+\+Estop (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Parada de emergencia inmediata\+: desactiva timers, apaga drivers y salidas. 

Parada de emergencia inmediata.

\begin{DoxyReturn}{Devuelve}
Siempre 0.

Siempre 0.
\end{DoxyReturn}
Deshabilita timers/interrupts, apaga drivers y salidas sin rampa. \begin{DoxyWarning}{Atención}
Uso ante condiciones de falla. Requiere nueva orden de arranque. 
\end{DoxyWarning}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00857}{857}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas de esta función\+:
% FIG 7
Gráfico de llamadas a esta función\+:
% FIG 8
\Hypertarget{_gestor_s_v_m_8c_a194a2627a7348ecaf125a03508239ef6}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_Getaceleracion@{GestorSVM\_Getaceleracion}}
\index{GestorSVM\_Getaceleracion@{GestorSVM\_Getaceleracion}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_Getaceleracion()}{GestorSVM\_Getaceleracion()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a194a2627a7348ecaf125a03508239ef6} 
int Gestor\+SVM\+\_\+\+Getaceleracion (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Devuelve acelerada actual \mbox{[}Hz/s\mbox{]}. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00892}{892}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_ae9fad44bd4d57af9bc9ac4f482ea5fae}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_GetDesaceleracion@{GestorSVM\_GetDesaceleracion}}
\index{GestorSVM\_GetDesaceleracion@{GestorSVM\_GetDesaceleracion}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_GetDesaceleracion()}{GestorSVM\_GetDesaceleracion()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_ae9fad44bd4d57af9bc9ac4f482ea5fae} 
int Gestor\+SVM\+\_\+\+Get\+Desaceleracion (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Devuelve desacelerada actual \mbox{[}Hz/s\mbox{]}. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00897}{897}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a17bf21f94ae6073c66662117de912850}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_GetDir@{GestorSVM\_GetDir}}
\index{GestorSVM\_GetDir@{GestorSVM\_GetDir}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_GetDir()}{GestorSVM\_GetDir()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a17bf21f94ae6073c66662117de912850} 
int Gestor\+SVM\+\_\+\+Get\+Dir (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Devuelve sentido de giro (1 horario, -\/1 antihorario). 

Obtiene el sentido de giro actual (1 horario, -\/1 antihorario). 

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00902}{902}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas a esta función\+:
% FIG 9
\Hypertarget{_gestor_s_v_m_8c_a0c781546371d716ca8146f4d0160460f}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_GetFrec@{GestorSVM\_GetFrec}}
\index{GestorSVM\_GetFrec@{GestorSVM\_GetFrec}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_GetFrec()}{GestorSVM\_GetFrec()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a0c781546371d716ca8146f4d0160460f} 
int Gestor\+SVM\+\_\+\+Get\+Frec (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Devuelve la frecuencia de referencia configurada (Hz). 

Lee la frecuencia objetivo de referencia (no escalada).

\begin{DoxyReturn}{Devuelve}
\doxylink{_gestor_s_v_m_8c_a62d70cb530b832d93219406698aa9a3f}{frecuencia\+Referenica}.

Frecuencia de referencia \mbox{[}Hz\mbox{]}. 
\end{DoxyReturn}
\begin{DoxyNote}{Nota}
Si querés la frecuencia {\itshape instantánea} en rampa, podrías exponer otra API. 
\end{DoxyNote}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00887}{887}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas a esta función\+:
% FIG 10
\Hypertarget{_gestor_s_v_m_8c_a0524c323e42d243efaacd375836c2cfb}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_MotorStart@{GestorSVM\_MotorStart}}
\index{GestorSVM\_MotorStart@{GestorSVM\_MotorStart}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_MotorStart()}{GestorSVM\_MotorStart()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a0524c323e42d243efaacd375836c2cfb} 
int Gestor\+SVM\+\_\+\+Motor\+Start (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Arranca el motor\+: habilita drivers, inicia timers y rampa hacia \doxylink{_gestor_s_v_m_8c_a62d70cb530b832d93219406698aa9a3f}{frecuencia\+Referenica}. 

Inicia la marcha\+: arranca rampa de aceleración hacia frec\+Referencia.

\begin{DoxyReturn}{Devuelve}
0 si arranca; 1 si ya estaba en marcha.

0 si inicia correctamente, 1 si ya estaba en marcha.
\end{DoxyReturn}
Habilita drivers, inicia timers (cálculo y switching), precarga ticks, y pone flags para rampa ascendente. La frecuencia objetivo proviene de \doxylink{_gestor_s_v_m_8c_a8da78eb6c3f1e8cd6be888fe9f7fce89}{Gestor\+SVM\+\_\+\+Set\+Frec} o \doxylink{_gestor_s_v_m_8c_a17fd8593a56939f1777cfdbed0db0334}{Gestor\+SVM\+\_\+\+Set\+Configuration}. 

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00794}{794}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas de esta función\+:
% FIG 11
Gráfico de llamadas a esta función\+:
% FIG 12
\Hypertarget{_gestor_s_v_m_8c_adf2028330d7896b6f9a467dc57d5eac4}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_MotorStop@{GestorSVM\_MotorStop}}
\index{GestorSVM\_MotorStop@{GestorSVM\_MotorStop}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_MotorStop()}{GestorSVM\_MotorStop()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_adf2028330d7896b6f9a467dc57d5eac4} 
int Gestor\+SVM\+\_\+\+Motor\+Stop (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Ordena frenado con rampa de \doxylink{_gestor_s_v_m_8c_a73da6448f1aebaa17720928dbd2e32cc}{desaceleracion} hasta 0 Hz. 

Ordena frenado controlado (rampa de desacel hasta 0 Hz).

\begin{DoxyReturn}{Devuelve}
0 si acepta; 1 si ya estaba detenido.

0 si se acepta la orden, 1 si ya estaba detenido.
\end{DoxyReturn}
No corta drivers instantáneamente\+: mantiene el switching hasta llegar a 0 Hz, luego apaga salidas y notifica al gestor de estados. 

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00831}{831}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas a esta función\+:
% FIG 13
\Hypertarget{_gestor_s_v_m_8c_a123fdc53095f5297ce6b01119c69c043}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_Setaceleracion@{GestorSVM\_Setaceleracion}}
\index{GestorSVM\_Setaceleracion@{GestorSVM\_Setaceleracion}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_Setaceleracion()}{GestorSVM\_Setaceleracion()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a123fdc53095f5297ce6b01119c69c043} 
int Gestor\+SVM\+\_\+\+Setaceleracion (\begin{DoxyParamCaption}\item[{int}]{nuevaaceleracion}{}\end{DoxyParamCaption})}



Actualiza acelerada \mbox{[}Hz/s\mbox{]}. 

\begin{DoxyReturn}{Devuelve}
0 OK; -\/1 fuera de rango; -\/2 si hay rampa activa. 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00762}{762}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a17fd8593a56939f1777cfdbed0db0334}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_SetConfiguration@{GestorSVM\_SetConfiguration}}
\index{GestorSVM\_SetConfiguration@{GestorSVM\_SetConfiguration}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_SetConfiguration()}{GestorSVM\_SetConfiguration()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a17fd8593a56939f1777cfdbed0db0334} 
void Gestor\+SVM\+\_\+\+Set\+Configuration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_configuracion_s_v_m}{Configuracion\+SVM}} \texorpdfstring{$\ast$}{*}}]{configuracion}{}\end{DoxyParamCaption})}



Carga la configuración base de SVM y prepara tablas de BSRR por cuadrante. 

Carga la configuración base del SVM.


\begin{DoxyParams}{Parámetros}
{\em configuracion} & Puntero a \doxylink{struct_configuracion_s_v_m}{Configuracion\+SVM}.\\
\hline
{\em configuracion} & Puntero a \doxylink{struct_configuracion_s_v_m}{Configuracion\+SVM} con frec\+\_\+switch, frec\+Referencia, \doxylink{_gestor_s_v_m_8c_ae76293000b309473e1e360f8a7ed9d23}{direccion\+Rotacion}, acel y desacel.\\
\hline
\end{DoxyParams}
Aplica frec\+\_\+switch, rampas y sentido; y propaga frec\+Referencia al pipeline de cambio de velocidad. Internamente recalcula lookups/\+BSRR por cuadrante. \begin{DoxyWarning}{Atención}
Validar rangos antes de invocar si la config proviene de UI/externo. 
\end{DoxyWarning}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00585}{585}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas de esta función\+:
% FIG 14
Gráfico de llamadas a esta función\+:
% FIG 15
\Hypertarget{_gestor_s_v_m_8c_af72bd515620559dd404ac8395ba10bec}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_SetDecel@{GestorSVM\_SetDecel}}
\index{GestorSVM\_SetDecel@{GestorSVM\_SetDecel}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_SetDecel()}{GestorSVM\_SetDecel()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_af72bd515620559dd404ac8395ba10bec} 
int Gestor\+SVM\+\_\+\+Set\+Decel (\begin{DoxyParamCaption}\item[{int}]{decel}{}\end{DoxyParamCaption})}



Actualiza desacelerada \mbox{[}Hz/s\mbox{]}. 

Actualiza la desaceleración dinámica \mbox{[}Hz/seg\mbox{]}.

\begin{DoxyReturn}{Devuelve}
0 OK; -\/1 fuera de rango; -\/2 si hay rampa activa.
\end{DoxyReturn}

\begin{DoxyParams}{Parámetros}
{\em decel} & Nueva desaceleración. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
0 OK; -\/1 fuera de rango; -\/2 si hay cambio de velocidad en curso. 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00778}{778}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas a esta función\+:
% FIG 16
\Hypertarget{_gestor_s_v_m_8c_a7cb0adcba1ed421b2ccb337faec3bb06}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_SetDir@{GestorSVM\_SetDir}}
\index{GestorSVM\_SetDir@{GestorSVM\_SetDir}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_SetDir()}{GestorSVM\_SetDir()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a7cb0adcba1ed421b2ccb337faec3bb06} 
int Gestor\+SVM\+\_\+\+Set\+Dir (\begin{DoxyParamCaption}\item[{int}]{dir}{}\end{DoxyParamCaption})}



Cambia el sentido de giro si el motor está detenido. 

Cambia el sentido de giro (solo con motor detenido).


\begin{DoxyParams}{Parámetros}
{\em dir} & 0 o 1 (mapeo a antihorario/horario). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
0 OK; -\/1 fuera de rango; -\/2 si motor en marcha o rampa activa.
\end{DoxyReturn}

\begin{DoxyParams}{Parámetros}
{\em dir} & 0 o 1 (mapea a antihorario/horario según tu implementación). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}

\begin{DoxyItemize}
\item 0\+: Modificado.
\item -\/1\+: Fuera de rango.
\item -\/2\+: Rechazado (motor en marcha o cambio en curso).
\end{DoxyItemize}
\end{DoxyReturn}
Recalcula la tabla BSRR por cuadrante para invertir U/V. 

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00717}{717}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas a esta función\+:
% FIG 17
\Hypertarget{_gestor_s_v_m_8c_a8da78eb6c3f1e8cd6be888fe9f7fce89}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_SetFrec@{GestorSVM\_SetFrec}}
\index{GestorSVM\_SetFrec@{GestorSVM\_SetFrec}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_SetFrec()}{GestorSVM\_SetFrec()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a8da78eb6c3f1e8cd6be888fe9f7fce89} 
int Gestor\+SVM\+\_\+\+Set\+Frec (\begin{DoxyParamCaption}\item[{int}]{frec}{}\end{DoxyParamCaption})}



Solicita nueva frecuencia objetivo (Hz). Inicia rampa si el motor está en marcha. 

Solicita una nueva frecuencia objetivo.


\begin{DoxyParams}{Parámetros}
{\em frec} & Frecuencia objetivo \mbox{[}Hz\mbox{]}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
0 si aceptada (motor detenido), 1 si aceptada con rampa en curso; -\/1 fuera de rango; -\/2 misma que la actual.
\end{DoxyReturn}

\begin{DoxyParams}{Parámetros}
{\em frec} & Frecuencia objetivo \mbox{[}Hz\mbox{]}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}

\begin{DoxyItemize}
\item 0\+: Aceptada con motor detenido (queda como referencia).
\item 1\+: Aceptada con motor en marcha (inicia rampa).
\item -\/1\+: Fuera de rango (\doxylink{_gestor_s_v_m_8h_a5f04a0cf7d8d8c18c15187b55eab34f5}{FERC\+\_\+\+OUT\+\_\+\+MIN}..\doxylink{_gestor_s_v_m_8h_a4ca4d9aefdff1e7a45f9ebb015ea8de8}{FERC\+\_\+\+OUT\+\_\+\+MAX}).
\item -\/2\+: Igual a la frecuencia actual (sin cambios).
\end{DoxyItemize}
\end{DoxyReturn}
Calcula delta por ciclo a partir de acel/ desacel y frec\+\_\+switch, y actualiza parámetros sombra para el lazo de cálculo. 

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00668}{668}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas a esta función\+:
% FIG 18
\Hypertarget{_gestor_s_v_m_8c_aab94327b81298999f1f2e8374495f521}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_SwitchInterrupt@{GestorSVM\_SwitchInterrupt}}
\index{GestorSVM\_SwitchInterrupt@{GestorSVM\_SwitchInterrupt}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_SwitchInterrupt()}{GestorSVM\_SwitchInterrupt()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_aab94327b81298999f1f2e8374495f521} 
void Gestor\+SVM\+\_\+\+Switch\+Interrupt (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_gestor_s_v_m_8h_ac12e123ca97cf2482882646d5e67767e}{Switch\+Interrupt\+Type}}}]{int\+Type}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Handler interno llamado por el ISR de TIM3 según la fuente (CH1..CH4, RESET, CLEAN). 


\begin{DoxyParams}{Parámetros}
{\em int\+Type} & Fuente de interrupción \doxylink{_gestor_s_v_m_8h_ac12e123ca97cf2482882646d5e67767e}{Switch\+Interrupt\+Type}.\\
\hline
\end{DoxyParams}

\begin{DoxyItemize}
\item RESET\+: consume una entrada del buffer y precarga CCR2/\+CCR3/\+CCR4.
\item CH1/\+CH2/\+CH3\+: conmuta GPIO según orden/fase y maneja interferencias habilitando/deshabilitando CCx\+IE.
\item CLEAN\+: limpia flags y estado interno del switching. 
\end{DoxyItemize}

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00300}{300}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas de esta función\+:
% FIG 19
Gráfico de llamadas a esta función\+:
% FIG 20
\Hypertarget{_gestor_s_v_m_8c_acb6435274a6164fddc89ab33bc3dfd09}\index{GestorSVM.c@{GestorSVM.c}!GestorSVM\_SwitchPuertos@{GestorSVM\_SwitchPuertos}}
\index{GestorSVM\_SwitchPuertos@{GestorSVM\_SwitchPuertos}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{GestorSVM\_SwitchPuertos()}{GestorSVM\_SwitchPuertos()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_acb6435274a6164fddc89ab33bc3dfd09} 
void Gestor\+SVM\+\_\+\+Switch\+Puertos (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_gestor_s_v_m_8h_a2cb06ce2ec272b92651a6472f0723580}{Orden\+Switch}}}]{orden}{, }\item[{char}]{estado}{, }\item[{int}]{num\+Cuadrante}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Escribe en BSRR los pines correspondientes a la orden y cuadrante. 


\begin{DoxyParams}{Parámetros}
{\em orden} & Orden de conmutación \doxylink{_gestor_s_v_m_8h_a2cb06ce2ec272b92651a6472f0723580}{Orden\+Switch}. \\
\hline
{\em estado} & 0=primer estado del sector, 1=segundo estado (usa \doxylink{_gestor_s_v_m_8c_a096d4dcc733cc7d3cb3b2b2761ad74b4}{estado\+GPIOPor\+Cuadrante\+YOrden}). \\
\hline
{\em num\+Cuadrante} & Sector SVM (0..5). \\
\hline
\end{DoxyParams}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00496}{496}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas a esta función\+:
% FIG 21
\Hypertarget{_gestor_s_v_m_8c_a1fc39499fe9db8b7fb88005e9f107a36}\index{GestorSVM.c@{GestorSVM.c}!HAL\_TIM\_OC\_DelayElapsedCallback@{HAL\_TIM\_OC\_DelayElapsedCallback}}
\index{HAL\_TIM\_OC\_DelayElapsedCallback@{HAL\_TIM\_OC\_DelayElapsedCallback}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{HAL\_TIM\_OC\_DelayElapsedCallback()}{HAL\_TIM\_OC\_DelayElapsedCallback()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a1fc39499fe9db8b7fb88005e9f107a36} 
void HAL\+\_\+\+TIM\+\_\+\+OC\+\_\+\+Delay\+Elapsed\+Callback (\begin{DoxyParamCaption}\item[{TIM\+\_\+\+Handle\+Type\+Def \texorpdfstring{$\ast$}{*}}]{htim}{}\end{DoxyParamCaption})}



Callback HAL de Output Compare\+: enruta eventos CCR de TIM3 a \doxylink{_gestor_s_v_m_8c_aab94327b81298999f1f2e8374495f521}{Gestor\+SVM\+\_\+\+Switch\+Interrupt}. 


\begin{DoxyParams}{Parámetros}
{\em htim} & Puntero al handle del timer que disparó el evento.\\
\hline
\end{DoxyParams}

\begin{DoxyItemize}
\item CH1 → \doxylink{_gestor_s_v_m_8h_ac12e123ca97cf2482882646d5e67767ead52acd5eb7604d33eeaee40537f4082f}{SWITCH\+\_\+\+INT\+\_\+\+RESET}
\item CH2 → \doxylink{_gestor_s_v_m_8h_ac12e123ca97cf2482882646d5e67767eab3055c3f71006b6d768de2e2d437cb18}{SWITCH\+\_\+\+INT\+\_\+\+CH1}
\item CH3 → \doxylink{_gestor_s_v_m_8h_ac12e123ca97cf2482882646d5e67767eac0f044f79933a5ba09b39462e4c5f0bc}{SWITCH\+\_\+\+INT\+\_\+\+CH2}
\item CH4 → \doxylink{_gestor_s_v_m_8h_ac12e123ca97cf2482882646d5e67767ea4f79349a125bd828fdcaf406d0e6f376}{SWITCH\+\_\+\+INT\+\_\+\+CH3} 
\end{DoxyItemize}

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00918}{918}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas de esta función\+:
% FIG 22
\Hypertarget{_gestor_s_v_m_8c_ace22621aa363cb91c5b18fb80fb8d4b5}\index{GestorSVM.c@{GestorSVM.c}!pinMap@{pinMap}}
\index{pinMap@{pinMap}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{pinMap()}{pinMap()}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_ace22621aa363cb91c5b18fb80fb8d4b5} 
int pin\+Map (\begin{DoxyParamCaption}\item[{int}]{x}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Convierte el XOR de estados (bit U/\+V/W) al índice interno \{0,1,2\}. 


\begin{DoxyParams}{Parámetros}
{\em x} & Máscara de pin que cambia (1bit activo entre U/\+V/W). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
Índice 0→U, 1→V, 2→W. 
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00223}{223}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

Gráfico de llamadas a esta función\+:
% FIG 23


\label{doc-var-members}
\Hypertarget{_gestor_s_v_m_8c_doc-var-members}
\doxysubsection{Documentación de variables}
\Hypertarget{_gestor_s_v_m_8c_a1c6352a5b38f1b11e9d1419fa3131452}\index{GestorSVM.c@{GestorSVM.c}!aceleracion@{aceleracion}}
\index{aceleracion@{aceleracion}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{aceleracion}{aceleracion}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a1c6352a5b38f1b11e9d1419fa3131452} 
int aceleracion\hspace{0.3cm}{\ttfamily [static]}}



acelerada configurada \mbox{[}Hz/s\mbox{]}. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00072}{72}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_aebd08571e5da918d81a6b301cc8143cd}\index{GestorSVM.c@{GestorSVM.c}!anguloActual@{anguloActual}}
\index{anguloActual@{anguloActual}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{anguloActual}{anguloActual}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_aebd08571e5da918d81a6b301cc8143cd} 
uint32\+\_\+t angulo\+Actual\hspace{0.3cm}{\ttfamily [static]}}



Ángulo absoluto (grados×1e3). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00076}{76}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a840b47b2f587bf1efae83d4e07b57fde}\index{GestorSVM.c@{GestorSVM.c}!anguloParcial@{anguloParcial}}
\index{anguloParcial@{anguloParcial}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{anguloParcial}{anguloParcial}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a840b47b2f587bf1efae83d4e07b57fde} 
int32\+\_\+t angulo\+Parcial\hspace{0.3cm}{\ttfamily [static]}}



Ángulo parcial 0..60° (grados×1e3), usado para t1/t2. Puede ser negativo durante el diente. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00078}{78}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_abf2857a4c393671f47a1c040235ce0be}\index{GestorSVM.c@{GestorSVM.c}!anguloSwitching@{anguloSwitching}}
\index{anguloSwitching@{anguloSwitching}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{anguloSwitching}{anguloSwitching}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_abf2857a4c393671f47a1c040235ce0be} 
uint32\+\_\+t angulo\+Switching\hspace{0.3cm}{\ttfamily [static]}}



Incremento angular por switching (grados×1e3). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00068}{68}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a69e96d0fb1e5973bd8aeec118dcee1dc}\index{GestorSVM.c@{GestorSVM.c}!bufferCalculo@{bufferCalculo}}
\index{bufferCalculo@{bufferCalculo}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{bufferCalculo}{bufferCalculo}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a69e96d0fb1e5973bd8aeec118dcee1dc} 
volatile \mbox{\hyperlink{struct_dato_calculado}{Dato\+Calculado}} buffer\+Calculo}



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00145}{145}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_aa16dda675dd4a2086e73b0c8374922ca}\index{GestorSVM.c@{GestorSVM.c}!cambioFrecuenciaPorCiclo@{cambioFrecuenciaPorCiclo}}
\index{cambioFrecuenciaPorCiclo@{cambioFrecuenciaPorCiclo}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{cambioFrecuenciaPorCiclo}{cambioFrecuenciaPorCiclo}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_aa16dda675dd4a2086e73b0c8374922ca} 
volatile uint32\+\_\+t cambio\+Frecuencia\+Por\+Ciclo\hspace{0.3cm}{\ttfamily [static]}}



Delta por ciclo de switching (escalado ×1e6) para la rampa. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00124}{124}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a148644d9ebb39ea4dfa6fbf6da13229a}\index{GestorSVM.c@{GestorSVM.c}!casoInterferencia@{casoInterferencia}}
\index{casoInterferencia@{casoInterferencia}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{casoInterferencia}{casoInterferencia}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a148644d9ebb39ea4dfa6fbf6da13229a} 
volatile \mbox{\hyperlink{_gestor_s_v_m_8c_a259efd27fc2c061cab9f6fe254ede913}{Caso\+Interferencia\+Timer}} caso\+Interferencia\hspace{0.3cm}{\ttfamily [static]}}



Caso de interferencia detectado para el ciclo actual. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00111}{111}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a7fb4c953b417b232d38613e87f190ab7}\index{GestorSVM.c@{GestorSVM.c}!cuadranteActual@{cuadranteActual}}
\index{cuadranteActual@{cuadranteActual}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{cuadranteActual}{cuadranteActual}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a7fb4c953b417b232d38613e87f190ab7} 
volatile int cuadrante\+Actual\hspace{0.3cm}{\ttfamily [static]}}



Cuadrante SVM actual (0..5). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00080}{80}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a73da6448f1aebaa17720928dbd2e32cc}\index{GestorSVM.c@{GestorSVM.c}!desaceleracion@{desaceleracion}}
\index{desaceleracion@{desaceleracion}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{desaceleracion}{desaceleracion}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a73da6448f1aebaa17720928dbd2e32cc} 
int desaceleracion\hspace{0.3cm}{\ttfamily [static]}}



Desacelerada configurada \mbox{[}Hz/s\mbox{]}. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00074}{74}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_ae76293000b309473e1e360f8a7ed9d23}\index{GestorSVM.c@{GestorSVM.c}!direccionRotacion@{direccionRotacion}}
\index{direccionRotacion@{direccionRotacion}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{direccionRotacion}{direccionRotacion}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_ae76293000b309473e1e360f8a7ed9d23} 
int direccion\+Rotacion = 1\hspace{0.3cm}{\ttfamily [static]}}



Sentido de rotación\+: 1 horario, -\/1 antihorario. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00064}{64}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a7f0cb87b586cca67054c90a4539d1b0d}\index{GestorSVM.c@{GestorSVM.c}!estadoGPIOOff@{estadoGPIOOff}}
\index{estadoGPIOOff@{estadoGPIOOff}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{estadoGPIOOff}{estadoGPIOOff}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a7f0cb87b586cca67054c90a4539d1b0d} 
uint32\+\_\+t estado\+GPIOOff}



BSRR para apagar U/\+V/W simultáneo. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00100}{100}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a33806fcd4c3cc2167b449ba073d36281}\index{GestorSVM.c@{GestorSVM.c}!estadoGPIOOn@{estadoGPIOOn}}
\index{estadoGPIOOn@{estadoGPIOOn}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{estadoGPIOOn}{estadoGPIOOn}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a33806fcd4c3cc2167b449ba073d36281} 
uint32\+\_\+t estado\+GPIOOn}



BSRR para encender U/\+V/W simultáneo. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00102}{102}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a096d4dcc733cc7d3cb3b2b2761ad74b4}\index{GestorSVM.c@{GestorSVM.c}!estadoGPIOPorCuadranteYOrden@{estadoGPIOPorCuadranteYOrden}}
\index{estadoGPIOPorCuadranteYOrden@{estadoGPIOPorCuadranteYOrden}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{estadoGPIOPorCuadranteYOrden}{estadoGPIOPorCuadranteYOrden}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a096d4dcc733cc7d3cb3b2b2761ad74b4} 
uint32\+\_\+t estado\+GPIOPor\+Cuadrante\+YOrden\mbox{[}6\mbox{]}\mbox{[}2\mbox{]}}



Palabras BSRR precalculadas por cuadrante/estado (0/1). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00098}{98}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a2fa87ffbab029a07fd246d47e0a75aa7}\index{GestorSVM.c@{GestorSVM.c}!estadoLogicoSalida@{estadoLogicoSalida}}
\index{estadoLogicoSalida@{estadoLogicoSalida}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{estadoLogicoSalida}{estadoLogicoSalida}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a2fa87ffbab029a07fd246d47e0a75aa7} 
volatile char estado\+Logico\+Salida\mbox{[}3\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Estado lógico de salidas U/\+V/W (para depuración). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00107}{107}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a1bdc9a3f642943b4f4e2282a234d5346}\index{GestorSVM.c@{GestorSVM.c}!flagActualizarParamSombra@{flagActualizarParamSombra}}
\index{flagActualizarParamSombra@{flagActualizarParamSombra}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{flagActualizarParamSombra}{flagActualizarParamSombra}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a1bdc9a3f642943b4f4e2282a234d5346} 
volatile int flag\+Actualizar\+Param\+Sombra}



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00160}{160}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a722b3f89eeea95c0565294e0419fc801}\index{GestorSVM.c@{GestorSVM.c}!flagAscensoAnguloParcial@{flagAscensoAnguloParcial}}
\index{flagAscensoAnguloParcial@{flagAscensoAnguloParcial}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{flagAscensoAnguloParcial}{flagAscensoAnguloParcial}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a722b3f89eeea95c0565294e0419fc801} 
volatile char flag\+Ascenso\+Angulo\+Parcial = 1\hspace{0.3cm}{\ttfamily [static]}}



Bandera de rampa del ángulo parcial (subida/bajada en diente). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00105}{105}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a52252528ca7defa6f8de419143b30100}\index{GestorSVM.c@{GestorSVM.c}!flagChangingFrecuencia@{flagChangingFrecuencia}}
\index{flagChangingFrecuencia@{flagChangingFrecuencia}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{flagChangingFrecuencia}{flagChangingFrecuencia}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a52252528ca7defa6f8de419143b30100} 
volatile int flag\+Changing\+Frecuencia\hspace{0.3cm}{\ttfamily [static]}}



Indica cambio de frecuencia en curso (rampa activa). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00116}{116}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a211a2b89c92027a6f5a6edbfffa2dd78}\index{GestorSVM.c@{GestorSVM.c}!flagEsAcelerado@{flagEsAcelerado}}
\index{flagEsAcelerado@{flagEsAcelerado}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{flagEsAcelerado}{flagEsAcelerado}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a211a2b89c92027a6f5a6edbfffa2dd78} 
volatile int flag\+Es\+Acelerado\hspace{0.3cm}{\ttfamily [static]}}



1 si la rampa corresponde a una aceleración, 0 para desaceleración. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00118}{118}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a2f5156ba4efc07e0f2f1a04991fcfdae}\index{GestorSVM.c@{GestorSVM.c}!flagMotorRunning@{flagMotorRunning}}
\index{flagMotorRunning@{flagMotorRunning}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{flagMotorRunning}{flagMotorRunning}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a2f5156ba4efc07e0f2f1a04991fcfdae} 
volatile int flag\+Motor\+Running\hspace{0.3cm}{\ttfamily [static]}}



1 si el motor está en movimiento. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00120}{120}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a133e313d057f9cf8e8a9bbff80f96630}\index{GestorSVM.c@{GestorSVM.c}!frecObjetivo@{frecObjetivo}}
\index{frecObjetivo@{frecObjetivo}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{frecObjetivo}{frecObjetivo}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a133e313d057f9cf8e8a9bbff80f96630} 
volatile int32\+\_\+t frec\+Objetivo\hspace{0.3cm}{\ttfamily [static]}}



Frecuencia objetivo (target) escalada ×1e6. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00114}{114}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a62d70cb530b832d93219406698aa9a3f}\index{GestorSVM.c@{GestorSVM.c}!frecuenciaReferenica@{frecuenciaReferenica}}
\index{frecuenciaReferenica@{frecuenciaReferenica}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{frecuenciaReferenica}{frecuenciaReferenica}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a62d70cb530b832d93219406698aa9a3f} 
volatile int frecuencia\+Referenica\hspace{0.3cm}{\ttfamily [static]}}



Frecuencia “de referencia” reportada (Hz). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00122}{122}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_ab395be599c2e377eea2a91e52cd3b170}\index{GestorSVM.c@{GestorSVM.c}!frecuenciaSalida@{frecuenciaSalida}}
\index{frecuenciaSalida@{frecuenciaSalida}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{frecuenciaSalida}{frecuenciaSalida}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_ab395be599c2e377eea2a91e52cd3b170} 
int32\+\_\+t frecuencia\+Salida\hspace{0.3cm}{\ttfamily [static]}}



Frecuencia de salida INSTANTÁ\+NEA (escalada ×1e6) usada por el lazo de rampa. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00066}{66}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a4c4df3579e27c8ab2ddcba0e0420523d}\index{GestorSVM.c@{GestorSVM.c}!frecuenciaSwitching@{frecuenciaSwitching}}
\index{frecuenciaSwitching@{frecuenciaSwitching}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{frecuenciaSwitching}{frecuenciaSwitching}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a4c4df3579e27c8ab2ddcba0e0420523d} 
int frecuencia\+Switching\hspace{0.3cm}{\ttfamily [static]}}



Frecuencia de switching \mbox{[}Hz\mbox{]} (TIM3). 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00062}{62}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a92a5f7a38fd8fadfde145a057abe1dce}\index{GestorSVM.c@{GestorSVM.c}!indiceModulacion@{indiceModulacion}}
\index{indiceModulacion@{indiceModulacion}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{indiceModulacion}{indiceModulacion}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a92a5f7a38fd8fadfde145a057abe1dce} 
volatile int indice\+Modulacion\hspace{0.3cm}{\ttfamily [static]}}



Índice de modulación (0..100). Controla la tensión de salida. La relación v/f debe ser constante. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00070}{70}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a59292e9c522e99e3b641c09a7ef71fab}\index{GestorSVM.c@{GestorSVM.c}!paramSombra@{paramSombra}}
\index{paramSombra@{paramSombra}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{paramSombra}{paramSombra}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a59292e9c522e99e3b641c09a7ef71fab} 
volatile \mbox{\hyperlink{struct_parametros}{Parametros}} param\+Sombra}



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00159}{159}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_ab355d83e3c8f06aa34a64001eeae7c6b}\index{GestorSVM.c@{GestorSVM.c}!pinTogglePorCuadranteYOrden@{pinTogglePorCuadranteYOrden}}
\index{pinTogglePorCuadranteYOrden@{pinTogglePorCuadranteYOrden}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{pinTogglePorCuadranteYOrden}{pinTogglePorCuadranteYOrden}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_ab355d83e3c8f06aa34a64001eeae7c6b} 
int pin\+Toggle\+Por\+Cuadrante\+YOrden\mbox{[}6\mbox{]}\mbox{[}3\mbox{]}}



Mapa de qué pin conmuta en cada orden y cuadrante. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00096}{96}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_a65160f043db92066d395ee01d617c06f}\index{GestorSVM.c@{GestorSVM.c}!ticksChannel@{ticksChannel}}
\index{ticksChannel@{ticksChannel}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{ticksChannel}{ticksChannel}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_a65160f043db92066d395ee01d617c06f} 
volatile int ticks\+Channel\mbox{[}3\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



t1/t2/t3 en ticks para el ciclo actual. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00109}{109}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_ab255bd83f3ca54f5a92fd9a4bb021c41}\index{GestorSVM.c@{GestorSVM.c}!valoresSwitching@{valoresSwitching}}
\index{valoresSwitching@{valoresSwitching}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{valoresSwitching}{valoresSwitching}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_ab255bd83f3ca54f5a92fd9a4bb021c41} 
volatile \mbox{\hyperlink{struct_valores_switching}{Valores\+Switching}} valores\+Switching}



Estructura auxiliar de switching usada por el ISR. 



Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00126}{126}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

\Hypertarget{_gestor_s_v_m_8c_af36839c37ceddc6429a4d0f86e145d2c}\index{GestorSVM.c@{GestorSVM.c}!vectorSecuenciaPorCuadrante@{vectorSecuenciaPorCuadrante}}
\index{vectorSecuenciaPorCuadrante@{vectorSecuenciaPorCuadrante}!GestorSVM.c@{GestorSVM.c}}
\doxysubsubsection{\texorpdfstring{vectorSecuenciaPorCuadrante}{vectorSecuenciaPorCuadrante}}
{\footnotesize\ttfamily \label{_gestor_s_v_m_8c_af36839c37ceddc6429a4d0f86e145d2c} 
const int vector\+Secuencia\+Por\+Cuadrante\mbox{[}6\mbox{]}\mbox{[}7\mbox{]}}

{\bfseries Valor inicial\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ \{0b000,0b100,0b110,0b111,0b110,0b100,0b000\},\ }
\DoxyCodeLine{\ \ \ \ \{0b000,0b010,0b110,0b111,0b110,0b010,0b000\},\ }
\DoxyCodeLine{\ \ \ \ \{0b000,0b010,0b011,0b111,0b011,0b010,0b000\},\ }
\DoxyCodeLine{\ \ \ \ \{0b000,0b001,0b011,0b111,0b011,0b001,0b000\},\ }
\DoxyCodeLine{\ \ \ \ \{0b000,0b001,0b101,0b111,0b101,0b001,0b000\},\ }
\DoxyCodeLine{\ \ \ \ \{0b000,0b100,0b101,0b111,0b101,0b100,0b000\}\ \ }
\DoxyCodeLine{\}}

\end{DoxyCode}


Secuencia SVM por cuadrante (V0→\+V1→\+V2→\+V7→\+V2→\+V1→\+V0). 

Cada fila representa el vector lógico \{U,V,W\} en 7 pasos por sector. 

Definición en la línea \mbox{\hyperlink{_gestor_s_v_m_8c_source_l00086}{86}} del archivo \mbox{\hyperlink{_gestor_s_v_m_8c_source}{Gestor\+SVM.\+c}}.

