\doxysection{io\+\_\+control.\+c}
\hypertarget{io__control_8c_source}{}\label{io__control_8c_source}\index{C:/Users/User/LVFV\_ESP32/main/io\_control/io\_control.c@{C:/Users/User/LVFV\_ESP32/main/io\_control/io\_control.c}}
\mbox{\hyperlink{io__control_8c}{Ir a la documentación de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}sdkconfig.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00014}00014\ \textcolor{preprocessor}{\#include\ "{}esp\_err.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}esp\_log.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00017}00017\ \textcolor{preprocessor}{\#include\ "{}driver/gpio.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00018}00018\ \textcolor{preprocessor}{\#include\ "{}driver/ledc.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00019}00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{display_8h}{display/display.h}}"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00021}00021\ \textcolor{preprocessor}{\#include\ "{}freertos/FreeRTOS.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00022}00022\ \textcolor{preprocessor}{\#include\ "{}freertos/semphr.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00023}00023\ \textcolor{preprocessor}{\#include\ "{}freertos/task.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00024}00024\ \textcolor{preprocessor}{\#include\ "{}freertos/queue.h"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00026}00026\ \textcolor{preprocessor}{\#include\ <inttypes.h>}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00027}00027\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00028}00028\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00030}00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{mcp23017__defs_8h}{mcp23017\_defs.h}}"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00032}00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_m_c_p23017_8h}{./MCP23017.h}}"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00033}00033\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{io__control_8h}{./io\_control.h}}"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00034}00034\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sys_admin_8h}{../system/sysAdmin.h}}"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00035}00035\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sys_control_8h}{../system/sysControl.h}}"{}}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00037}\mbox{\hyperlink{io__control_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{00037}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}}\ =\ \textcolor{stringliteral}{"{}IO\_CTRL"{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00039}\mbox{\hyperlink{io__control_8c_aa4c8164303a6278c743c5b391e36d887}{00039}}\ \textcolor{preprocessor}{\#define\ INT\_A\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GPIO\_NUM\_22\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00041}\mbox{\hyperlink{io__control_8c_ab61d0981ed42df9e18211b273d22cfcd}{00041}}\ \textcolor{preprocessor}{\#define\ BUZZER\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00042}\mbox{\hyperlink{io__control_8c_a5c2c8c24f2085fc8445d70fa9b89eef3}{00042}}\ \textcolor{preprocessor}{\#define\ RELAY\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00043}\mbox{\hyperlink{io__control_8c_a3c40b6f2759ac9a791c15a236ed42072}{00043}}\ \textcolor{preprocessor}{\#define\ FREQ\_SEL\_1\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ 2\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00044}\mbox{\hyperlink{io__control_8c_ac6dd224b046cc28dfda7479c411971a3}{00044}}\ \textcolor{preprocessor}{\#define\ FREQ\_SEL\_2\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ 3\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00045}\mbox{\hyperlink{io__control_8c_a162e1e6d4511272d829d87b25433d651}{00045}}\ \textcolor{preprocessor}{\#define\ FREQ\_SEL\_3\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ 4\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00046}\mbox{\hyperlink{io__control_8c_a5751c255a711f1d6bf6f22f1bdf27243}{00046}}\ \textcolor{preprocessor}{\#define\ STOP\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 5\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00047}\mbox{\hyperlink{io__control_8c_a9907ce901fe5895205842817516ce0e7}{00047}}\ \textcolor{preprocessor}{\#define\ TERMO\_SW\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 6\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00049}\mbox{\hyperlink{io__control_8c_a2161dbbc9458cc9a4e2fb5fb1d43984d}{00049}}\ \textcolor{preprocessor}{\#define\ FREQ\_SEL\_MASK\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\ (1\ <<\ FREQ\_SEL\_3\_PIN)\ |\ (1\ <<\ FREQ\_SEL\_2\_PIN)\ |\ (1\ <<\ FREQ\_SEL\_1\_PIN)\ )\ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00050}\mbox{\hyperlink{io__control_8c_a1b26a96e962ed1dc2e1085e7b0d008cb}{00050}}\ \textcolor{preprocessor}{\#define\ TERMO\_SW\_MASK\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (1\ <<\ TERMO\_SW\_PIN)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00051}\mbox{\hyperlink{io__control_8c_a9dcd1ad76cfff992a7e30b8f4ec177cc}{00051}}\ \textcolor{preprocessor}{\#define\ STOP\_SW\_MASK\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (1\ <<\ STOP\_PIN)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00053}\mbox{\hyperlink{io__control_8c_aeb122726ffb667b61d0a0982f1183b4e}{00053}}\ \textcolor{preprocessor}{\#define\ INT\_B\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GPIO\_NUM\_23\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00055}\mbox{\hyperlink{io__control_8c_ab90236cd20165e0c5710418214be2f16}{00055}}\ \textcolor{preprocessor}{\#define\ MATRIX\_SW1\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x17\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00056}\mbox{\hyperlink{io__control_8c_a8d59f9677b119c8ad6511443709e0b54}{00056}}\ \textcolor{preprocessor}{\#define\ MATRIX\_SW2\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x27\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00057}\mbox{\hyperlink{io__control_8c_ad6120b8569d068f6bf36852362632456}{00057}}\ \textcolor{preprocessor}{\#define\ MATRIX\_SW3\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x1B\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00058}\mbox{\hyperlink{io__control_8c_a66a38060276e502c67da74140584fcfa}{00058}}\ \textcolor{preprocessor}{\#define\ MATRIX\_SW4\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x2B\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00059}\mbox{\hyperlink{io__control_8c_ad450221699f51d426a6bcacd2e27a249}{00059}}\ \textcolor{preprocessor}{\#define\ MATRIX\_SW5\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x1D\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00060}\mbox{\hyperlink{io__control_8c_acbbd81b17d9243ec82365265308df68e}{00060}}\ \textcolor{preprocessor}{\#define\ MATRIX\_SW6\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x2D\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00061}\mbox{\hyperlink{io__control_8c_a4014810b535ff216dbf931f7c7b9422d}{00061}}\ \textcolor{preprocessor}{\#define\ MATRIX\_SW7\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x1E\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00062}\mbox{\hyperlink{io__control_8c_a59c392fac5da2e5cf56b4adf4f4ff2c3}{00062}}\ \textcolor{preprocessor}{\#define\ MATRIX\_SW8\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0x2E\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00064}\mbox{\hyperlink{io__control_8c_ae8d8bdc80eb643813f9cd2006d0982e2}{00064}}\ \textcolor{preprocessor}{\#define\ SWITCH\_BUTTON\_BACK\ \ \ \ \ \ \ \ \ \ MATRIX\_SW1\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00065}\mbox{\hyperlink{io__control_8c_a298194afd3f1c0e54eb4cc6b08c02714}{00065}}\ \textcolor{preprocessor}{\#define\ SWITCH\_BUTTON\_UP\ \ \ \ \ \ \ \ \ \ \ \ MATRIX\_SW2\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00066}\mbox{\hyperlink{io__control_8c_a95ca6a6bf7cee54ffda97f1dc0cdd25c}{00066}}\ \textcolor{preprocessor}{\#define\ SWITCH\_BUTTON\_LEFT\ \ \ \ \ \ \ \ \ \ MATRIX\_SW3\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00067}\mbox{\hyperlink{io__control_8c_aab1eba452d99a4622ef544f9e4ab7ff5}{00067}}\ \textcolor{preprocessor}{\#define\ SWITCH\_BUTTON\_RIGHT\ \ \ \ \ \ \ \ \ MATRIX\_SW4\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00068}\mbox{\hyperlink{io__control_8c_a9807cf28ac3ee350a20a07d1e07ac6d9}{00068}}\ \textcolor{preprocessor}{\#define\ SWITCH\_BUTTON\_DOWN\ \ \ \ \ \ \ \ \ \ MATRIX\_SW5\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00069}\mbox{\hyperlink{io__control_8c_a16cb1b451588ee4ff9ce835d2f14edaf}{00069}}\ \textcolor{preprocessor}{\#define\ SWITCH\_BUTTON\_SAVE\ \ \ \ \ \ \ \ \ \ MATRIX\_SW6\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00070}\mbox{\hyperlink{io__control_8c_a356c64d23dd9abd4eee02a8682698ea3}{00070}}\ \textcolor{preprocessor}{\#define\ SWITCH\_BUTTON\_OK\ \ \ \ \ \ \ \ \ \ \ \ MATRIX\_SW7\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00071}\mbox{\hyperlink{io__control_8c_a606428ac54f2b512691ba142b5faffde}{00071}}\ \textcolor{preprocessor}{\#define\ SWITCH\_BUTTON\_MENU\ \ \ \ \ \ \ \ \ \ MATRIX\_SW8\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00073}\mbox{\hyperlink{io__control_8c_a9da436c5bf6a3ce86e3c4a178ca6a862}{00073}}\ \textcolor{preprocessor}{\#define\ STOP\_BUTTON\_PIN\ \ \ \ \ \ \ \ \ \ \ \ \ GPIO\_NUM\_16\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00074}\mbox{\hyperlink{io__control_8c_af727d34dc72e3f32bd32754111724a0b}{00074}}\ \textcolor{preprocessor}{\#define\ START\_BUTTON\_PIN\ \ \ \ \ \ \ \ \ \ \ \ GPIO\_NUM\_17\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00076}\mbox{\hyperlink{io__control_8c_a7905077bb6cb0ce86fad25d4db2e884d}{00076}}\ \textcolor{preprocessor}{\#define\ PWM\_GPIO\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 4\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00077}\mbox{\hyperlink{io__control_8c_a56e165627f596c2f42f843ae6571de0e}{00077}}\ \textcolor{preprocessor}{\#define\ PWM\_FREQ\_HZ\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1000\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00078}\mbox{\hyperlink{io__control_8c_aa5696c49e88a24e3144fd1433c7d20e5}{00078}}\ \textcolor{preprocessor}{\#define\ PWM\_TIMER\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEDC\_TIMER\_0\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00079}\mbox{\hyperlink{io__control_8c_ab5e3533bab20d16e08c7370af5a44222}{00079}}\ \textcolor{preprocessor}{\#define\ PWM\_MODE\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEDC\_LOW\_SPEED\_MODE\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00080}\mbox{\hyperlink{io__control_8c_acd1dba11989277eab79a76f9f2731bf9}{00080}}\ \textcolor{preprocessor}{\#define\ PWM\_CHANNEL\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEDC\_CHANNEL\_0\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00081}\mbox{\hyperlink{io__control_8c_a4ff4dc1e0eb4081e51c557b1233c3e63}{00081}}\ \textcolor{preprocessor}{\#define\ PWM\_RES\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LEDC\_TIMER\_10\_BIT\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00082}\mbox{\hyperlink{io__control_8c_ae742f25f16729d7e683f05a6ffb8d72a}{00082}}\ \textcolor{preprocessor}{\#define\ PWM\_STEP\_MS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00083}\mbox{\hyperlink{io__control_8c_ac6e2a8baccf1848233315c6a640cb35e}{00083}}\ \textcolor{preprocessor}{\#define\ DUTY\_MIN\_PCT\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 54\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00084}\mbox{\hyperlink{io__control_8c_afc7bf886480fa4d59ba284790961716f}{00084}}\ \textcolor{preprocessor}{\#define\ DUTY\_MAX\_PCT\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 98\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00086}\mbox{\hyperlink{io__control_8c_aedd7b01d9ead80d106e8ab03f60593cd}{00086}}\ QueueHandle\_t\ \mbox{\hyperlink{io__control_8c_aedd7b01d9ead80d106e8ab03f60593cd}{buzzer\_evt\_queue}}\ =\ NULL;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00087}\mbox{\hyperlink{io__control_8c_aac3c2758bf842cba44442e18e8a5dd77}{00087}}\ QueueHandle\_t\ \mbox{\hyperlink{io__control_8c_aac3c2758bf842cba44442e18e8a5dd77}{relay\_evt\_queue}}\ =\ NULL;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00088}\mbox{\hyperlink{io__control_8c_ae651902dce58637fa5a4c29ce35578d7}{00088}}\ QueueHandle\_t\ \mbox{\hyperlink{io__control_8c_ae651902dce58637fa5a4c29ce35578d7}{GPIO\_evt\_queue}}\ =\ NULL;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00090}\mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{00090}}\ uint8\_t\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00091}\mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{00091}}\ uint8\_t\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00104}00104\ \textcolor{keyword}{static}\ esp\_err\_t\ \mbox{\hyperlink{io__control_8c_af82b8f1ed0782934f29e1b35958aac7f}{freq\_0\_10V\_output}}();}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00121}00121\ \textcolor{keyword}{static}\ esp\_err\_t\ \mbox{\hyperlink{io__control_8c_abae7d7c2e12b86eb5145cea5a283e2c0}{gpio\_init\_interrupts}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00131}00131\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{io__control_8c_ac926bfc46245d8567a5603aeb1543944}{MCP23017\_buzzer\_control}}(\textcolor{keywordtype}{void}*\ arg);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00141}00141\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{io__control_8c_add33b8521581fbc9c97daf332f36491f}{MCP23017\_keyboard\_control}}(\textcolor{keywordtype}{void}*\ arg);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00142}00142\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00151}00151\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{io__control_8c_aeddc02ca25ecb0eb02eab9b4bc8d2953}{MCP23017\_relay\_control}}(\textcolor{keywordtype}{void}*\ arg);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00152}00152\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00164}\mbox{\hyperlink{io__control_8c_ab2d3777d88090e7626f751901e3ada78}{00164}}\ \ \textcolor{keywordtype}{void}\ IRAM\_ATTR\ \mbox{\hyperlink{io__control_8c_ab2d3777d88090e7626f751901e3ada78}{gpio\_isr\_handler}}(\textcolor{keywordtype}{void}*\ arg)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00165}00165\ \ \ \ \ uint32\_t\ gpio\_num\ =\ (uint32\_t)\ arg;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00166}00166\ \ \ \ \ BaseType\_t\ xHigherPriorityTaskWoken\ =\ pdFALSE;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00168}00168\ \ \ \ \ xQueueSendFromISR(\mbox{\hyperlink{io__control_8c_ae651902dce58637fa5a4c29ce35578d7}{GPIO\_evt\_queue}},\ \&gpio\_num,\ \&xHigherPriorityTaskWoken);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00169}00169\ \ \ \ \ \textcolor{keywordflow}{if}\ (xHigherPriorityTaskWoken)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00170}00170\ \ \ \ \ \ \ \ \ portYIELD\_FROM\_ISR();}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00171}00171\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00172}00172\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00173}00173\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00174}\mbox{\hyperlink{io__control_8c_af82b8f1ed0782934f29e1b35958aac7f}{00174}}\ \textcolor{keyword}{static}\ esp\_err\_t\ \mbox{\hyperlink{io__control_8c_af82b8f1ed0782934f29e1b35958aac7f}{freq\_0\_10V\_output}}()\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00175}00175\ \ \ \ \ esp\_err\_t\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00176}00176\ \ \ \ \ \textcolor{comment}{//\ Configurar\ el\ temporizador\ del\ PWM}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00177}00177\ \ \ \ \ ledc\_timer\_config\_t\ ledc\_timer\ =\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00178}00178\ \ \ \ \ \ \ \ \ .speed\_mode\ \ \ \ \ \ \ =\ \mbox{\hyperlink{io__control_8c_ab5e3533bab20d16e08c7370af5a44222}{PWM\_MODE}},}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00179}00179\ \ \ \ \ \ \ \ \ .timer\_num\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{io__control_8c_aa5696c49e88a24e3144fd1433c7d20e5}{PWM\_TIMER}},}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00180}00180\ \ \ \ \ \ \ \ \ .duty\_resolution\ \ =\ \mbox{\hyperlink{io__control_8c_a4ff4dc1e0eb4081e51c557b1233c3e63}{PWM\_RES}},}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00181}00181\ \ \ \ \ \ \ \ \ .freq\_hz\ \ \ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{io__control_8c_a56e165627f596c2f42f843ae6571de0e}{PWM\_FREQ\_HZ}},}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00182}00182\ \ \ \ \ \ \ \ \ .clk\_cfg\ \ \ \ \ \ \ \ \ \ =\ LEDC\_AUTO\_CLK}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00183}00183\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00184}00184\ \ \ \ \ retval\ =\ ledc\_timer\_config(\&ledc\_timer);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00185}00185\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00186}00186\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00187}00187\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ el\ timer\ de\ la\ salida\ 0-\/10V"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00188}00188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00189}00189\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00191}00191\ \ \ \ \ \textcolor{comment}{//\ Configurar\ el\ canal}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00192}00192\ \ \ \ \ ledc\_channel\_config\_t\ ledc\_channel\ =\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00193}00193\ \ \ \ \ \ \ \ \ .gpio\_num\ \ \ \ \ \ \ =\ \mbox{\hyperlink{io__control_8c_a7905077bb6cb0ce86fad25d4db2e884d}{PWM\_GPIO}},}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00194}00194\ \ \ \ \ \ \ \ \ .speed\_mode\ \ \ \ \ =\ \mbox{\hyperlink{io__control_8c_ab5e3533bab20d16e08c7370af5a44222}{PWM\_MODE}},}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00195}00195\ \ \ \ \ \ \ \ \ .channel\ \ \ \ \ \ \ \ =\ \mbox{\hyperlink{io__control_8c_acd1dba11989277eab79a76f9f2731bf9}{PWM\_CHANNEL}},}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00196}00196\ \ \ \ \ \ \ \ \ .timer\_sel\ \ \ \ \ \ =\ \mbox{\hyperlink{io__control_8c_aa5696c49e88a24e3144fd1433c7d20e5}{PWM\_TIMER}},}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00197}00197\ \ \ \ \ \ \ \ \ .duty\ \ \ \ \ \ \ \ \ \ \ =\ 0,}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00198}00198\ \ \ \ \ \ \ \ \ .hpoint\ \ \ \ \ \ \ \ \ =\ 0}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00199}00199\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00200}00200\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00201}00201\ \ \ \ \ retval\ =\ ledc\_channel\_config(\&ledc\_channel);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00202}00202\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00203}00203\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00204}00204\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ el\ canal\ de\ la\ salida\ 0-\/10V"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00205}00205\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00206}00206\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00207}00207\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00208}00208\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00209}00209\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00211}\mbox{\hyperlink{io__control_8c_abae7d7c2e12b86eb5145cea5a283e2c0}{00211}}\ \textcolor{keyword}{static}\ esp\_err\_t\ \mbox{\hyperlink{io__control_8c_abae7d7c2e12b86eb5145cea5a283e2c0}{gpio\_init\_interrupts}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00212}00212\ \ \ \ \ esp\_err\_t\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00213}00213\ \ \ \ \ gpio\_config\_t\ io\_conf\_stop\_start;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00214}00214\ \ \ \ \ gpio\_config\_t\ io\_conf;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00215}00215\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00216}00216\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00217}00217\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{io__control_8c_ae651902dce58637fa5a4c29ce35578d7}{GPIO\_evt\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00218}00218\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_ae651902dce58637fa5a4c29ce35578d7}{GPIO\_evt\_queue}}\ =\ xQueueCreate(1,\ \textcolor{keyword}{sizeof}(uint32\_t));}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00219}00219\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{io__control_8c_ae651902dce58637fa5a4c29ce35578d7}{GPIO\_evt\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}No\ se\ pudo\ crear\ la\ cola\ de\ interrupciones"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_FAIL;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00222}00222\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00223}00223\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00224}00224\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00225}00225\ \ \ \ \ retval\ =\ gpio\_install\_isr\_service(0);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00226}00226\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00227}00227\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ la\ interrupción\ de\ GPIO\ para\ INTA\ y\ INTB\ del\ MCP23017"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00228}00228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00229}00229\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00230}00230\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00231}00231\ \ \ \ \ \textcolor{comment}{//\ Configuración\ de\ pines}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00232}00232\ \ \ \ \ io\_conf.intr\_type\ =\ GPIO\_INTR\_NEGEDGE;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00233}00233\ \ \ \ \ io\_conf.mode\ =\ GPIO\_MODE\_INPUT;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00234}00234\ \ \ \ \ io\_conf.pin\_bit\_mask\ =\ (1ULL<<\mbox{\hyperlink{io__control_8c_aa4c8164303a6278c743c5b391e36d887}{INT\_A\_PIN}})\ |\ (1ULL<<\mbox{\hyperlink{io__control_8c_aeb122726ffb667b61d0a0982f1183b4e}{INT\_B\_PIN}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00235}00235\ \ \ \ \ io\_conf.pull\_down\_en\ =\ GPIO\_PULLDOWN\_DISABLE;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00236}00236\ \ \ \ \ io\_conf.pull\_up\_en\ =\ GPIO\_PULLUP\_DISABLE;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00237}00237\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00238}00238\ \ \ \ \ retval\ =\ gpio\_config(\&io\_conf);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00239}00239\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00240}00240\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ los\ GPIO"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00241}00241\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00242}00242\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00244}00244\ \ \ \ \ \textcolor{comment}{//\ Asocio\ pines\ a\ la\ rutina\ ISR}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00245}00245\ \ \ \ \ retval\ =\ gpio\_isr\_handler\_add(\mbox{\hyperlink{io__control_8c_aa4c8164303a6278c743c5b391e36d887}{INT\_A\_PIN}},\ \mbox{\hyperlink{io__control_8c_ab2d3777d88090e7626f751901e3ada78}{gpio\_isr\_handler}},\ (\textcolor{keywordtype}{void}*)\ (uintptr\_t)\ \mbox{\hyperlink{io__control_8c_aa4c8164303a6278c743c5b391e36d887}{INT\_A\_PIN}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00246}00246\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00247}00247\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ la\ interrupción\ de\ GPIO\ para\ pin\ INTA\ del\ MCP23017"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00248}00248\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00249}00249\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00250}00250\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00251}00251\ \ \ \ \ retval\ =\ gpio\_isr\_handler\_add(\mbox{\hyperlink{io__control_8c_aeb122726ffb667b61d0a0982f1183b4e}{INT\_B\_PIN}},\ \mbox{\hyperlink{io__control_8c_ab2d3777d88090e7626f751901e3ada78}{gpio\_isr\_handler}},\ (\textcolor{keywordtype}{void}*)\ (uintptr\_t)\ \mbox{\hyperlink{io__control_8c_aeb122726ffb667b61d0a0982f1183b4e}{INT\_B\_PIN}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00252}00252\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00253}00253\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ la\ interrupción\ de\ GPIO\ para\ pin\ INTB\ del\ MCP23017"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00254}00254\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00255}00255\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00256}00256\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00257}00257\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Interrupciones\ GPIO\ configuradas\ en\ \%d\ (Int\ A\ MCP)\ y\ \%d\ (Int\ B\ MCP)"{}},\ \mbox{\hyperlink{io__control_8c_aa4c8164303a6278c743c5b391e36d887}{INT\_A\_PIN}},\ \mbox{\hyperlink{io__control_8c_aeb122726ffb667b61d0a0982f1183b4e}{INT\_B\_PIN}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00258}00258\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00259}00259\ \ \ \ \ \textcolor{comment}{//\ Configuración\ de\ pines}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00260}00260\ \ \ \ \ io\_conf\_stop\_start.intr\_type\ =\ GPIO\_INTR\_ANYEDGE;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00261}00261\ \ \ \ \ io\_conf\_stop\_start.mode\ =\ GPIO\_MODE\_INPUT;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00262}00262\ \ \ \ \ io\_conf\_stop\_start.pin\_bit\_mask\ =\ (1ULL<<\mbox{\hyperlink{io__control_8c_a9da436c5bf6a3ce86e3c4a178ca6a862}{STOP\_BUTTON\_PIN}})\ |\ (1ULL<<\mbox{\hyperlink{io__control_8c_af727d34dc72e3f32bd32754111724a0b}{START\_BUTTON\_PIN}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00263}00263\ \ \ \ \ io\_conf\_stop\_start.pull\_down\_en\ =\ GPIO\_PULLDOWN\_DISABLE;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00264}00264\ \ \ \ \ io\_conf\_stop\_start.pull\_up\_en\ =\ GPIO\_PULLUP\_DISABLE;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00265}00265\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00266}00266\ \ \ \ \ retval\ =\ gpio\_config(\&io\_conf\_stop\_start);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00267}00267\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00268}00268\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ los\ GPIO\ para\ botones\ aislados\ stop\ y\ start"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00269}00269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00270}00270\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00271}00271\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00272}00272\ \ \ \ \ \textcolor{comment}{//\ Asocio\ pines\ a\ la\ rutina\ ISR}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00273}00273\ \ \ \ \ retval\ =\ gpio\_isr\_handler\_add(\mbox{\hyperlink{io__control_8c_a9da436c5bf6a3ce86e3c4a178ca6a862}{STOP\_BUTTON\_PIN}},\ \ \mbox{\hyperlink{io__control_8c_ab2d3777d88090e7626f751901e3ada78}{gpio\_isr\_handler}},\ (\textcolor{keywordtype}{void}*)\ (uintptr\_t)\ \mbox{\hyperlink{io__control_8c_a9da436c5bf6a3ce86e3c4a178ca6a862}{STOP\_BUTTON\_PIN}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00274}00274\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00275}00275\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ la\ interrupción\ de\ GPIO\ para\ botones\ aislados\ stop"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00276}00276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00277}00277\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00278}00278\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00279}00279\ \ \ \ \ retval\ =\ gpio\_isr\_handler\_add(\mbox{\hyperlink{io__control_8c_af727d34dc72e3f32bd32754111724a0b}{START\_BUTTON\_PIN}},\ \mbox{\hyperlink{io__control_8c_ab2d3777d88090e7626f751901e3ada78}{gpio\_isr\_handler}},\ (\textcolor{keywordtype}{void}*)\ (uintptr\_t)\ \mbox{\hyperlink{io__control_8c_af727d34dc72e3f32bd32754111724a0b}{START\_BUTTON\_PIN}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00280}00280\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ retval\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00281}00281\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ configurar\ la\ interrupción\ de\ GPIO\ para\ botones\ aislados\ start"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00282}00282\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00283}00283\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00284}00284\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00285}00285\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Interrupciones\ GPIO\ configuradas\ en\ \%d\ (Stop)\ y\ \%d\ (Start)"{}},\ \mbox{\hyperlink{io__control_8c_a9da436c5bf6a3ce86e3c4a178ca6a862}{STOP\_BUTTON\_PIN}},\ \mbox{\hyperlink{io__control_8c_af727d34dc72e3f32bd32754111724a0b}{START\_BUTTON\_PIN}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00286}00286\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00287}00287\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00288}00288\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00289}\mbox{\hyperlink{io__control_8c_ac926bfc46245d8567a5603aeb1543944}{00289}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{io__control_8c_ac926bfc46245d8567a5603aeb1543944}{MCP23017\_buzzer\_control}}(\textcolor{keywordtype}{void}*\ arg)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00290}00290\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00291}00291\ \ \ \ \ uint32\_t\ delay\_time;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00292}00292\ \ \ \ \ uint16\_t\ buzzer\_time;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00293}00293\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00294}00294\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{io__control_8c_aedd7b01d9ead80d106e8ab03f60593cd}{buzzer\_evt\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00295}00295\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aedd7b01d9ead80d106e8ab03f60593cd}{buzzer\_evt\_queue}}\ =\ xQueueCreate(10,\ \textcolor{keyword}{sizeof}(uint32\_t));}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00296}00296\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{io__control_8c_aedd7b01d9ead80d106e8ab03f60593cd}{buzzer\_evt\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}No\ se\ pudo\ crear\ la\ cola\ de\ buzzer"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00299}00299\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00300}00300\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00301}00301\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00302}00302\ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_ab0b70ff25556234d7ab76b16f1cc1534}{mcp\_write\_output\_pin}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00303}00303\ \ \ \ \ \textcolor{keywordflow}{for}(;;)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00304}00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(xQueueReceive(\mbox{\hyperlink{io__control_8c_aedd7b01d9ead80d106e8ab03f60593cd}{buzzer\_evt\_queue}},\ \&delay\_time,\ portMAX\_DELAY))\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ buzzer\_time\ =\ (uint16\_t)\ delay\_time;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_ab0b70ff25556234d7ab76b16f1cc1534}{mcp\_write\_output\_pin}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ 0,\ 1);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ vTaskDelay(pdMS\_TO\_TICKS(buzzer\_time));}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_ab0b70ff25556234d7ab76b16f1cc1534}{mcp\_write\_output\_pin}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00309}00309\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00310}00310\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00311}00311\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00312}00312\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00313}\mbox{\hyperlink{io__control_8c_add33b8521581fbc9c97daf332f36491f}{00313}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{io__control_8c_add33b8521581fbc9c97daf332f36491f}{MCP23017\_keyboard\_control}}(\textcolor{keywordtype}{void}*\ arg)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00314}00314\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Iniciando\ tarea\ de\ control\ de\ teclado"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00315}00315\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00316}00316\ \ \ \ \ \textcolor{keywordflow}{for}(;;)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00317}00317\ \ \ \ \ \ \ \ \ vTaskDelay(pdMS\_TO\_TICKS(100));}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00318}00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ \&\ 0x10\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ =\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ \&\ (\string~0x10);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ =\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ |\ (0x20);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00321}00321\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ =\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ \&\ (\string~0x20);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ =\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ |\ (0x10);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00324}00324\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00325}00325\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ \&\ 0x0F\ )\ !=\ 0x0F\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ESP\_LOGI(TAG,\ "{}Puerto\ B:\ \%X.\ Botón\ pulsado..."{},\ mcp\_portb);}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00327}00327\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_a22dd18f78e093af119af2aaa0ef2bd6d}{mcp\_read\_port}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae51dea4a37f3e2ede7ba6f27c563f6a4}{PORTB}},\ \&\mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00329}00329\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00330}00330\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_a8b3a939458d2c4d94598667bec9af9dd}{mcp\_write\_output\_port}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae51dea4a37f3e2ede7ba6f27c563f6a4}{PORTB}},\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00331}00331\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00332}00332\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00333}00333\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00334}\mbox{\hyperlink{io__control_8c_aeddc02ca25ecb0eb02eab9b4bc8d2953}{00334}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{io__control_8c_aeddc02ca25ecb0eb02eab9b4bc8d2953}{MCP23017\_relay\_control}}(\textcolor{keywordtype}{void}*\ arg)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00335}00335\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00336}00336\ \ \ \ \ uint8\_t\ io\_num;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00337}00337\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00338}00338\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{io__control_8c_aac3c2758bf842cba44442e18e8a5dd77}{relay\_evt\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00339}00339\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aac3c2758bf842cba44442e18e8a5dd77}{relay\_evt\_queue}}\ =\ xQueueCreate(1,\ \textcolor{keyword}{sizeof}(uint8\_t));}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00340}00340\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{io__control_8c_aac3c2758bf842cba44442e18e8a5dd77}{relay\_evt\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}No\ se\ pudo\ crear\ la\ cola\ de\ relay"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00343}00343\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00344}00344\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00345}00345\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00346}00346\ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_ab0b70ff25556234d7ab76b16f1cc1534}{mcp\_write\_output\_pin}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ 1,\ 0);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00347}00347\ \ \ \ \ \textcolor{keywordflow}{for}(;;)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00348}00348\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(xQueueReceive(\mbox{\hyperlink{io__control_8c_aac3c2758bf842cba44442e18e8a5dd77}{relay\_evt\_queue}},\ \&io\_num,\ portMAX\_DELAY))\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}RelayEvantPost:\ \%d"{}},\ io\_num);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ io\_num\ ==\ 1\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_ab0b70ff25556234d7ab76b16f1cc1534}{mcp\_write\_output\_pin}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ 1,\ 1);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00352}00352\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_ab0b70ff25556234d7ab76b16f1cc1534}{mcp\_write\_output\_pin}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ 1,\ 0);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00355}00355\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00356}00356\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00357}00357\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00358}00358\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00359}\mbox{\hyperlink{io__control_8c_aa4fbc272de389e539360bb6b7876dd7d}{00359}}\ esp\_err\_t\ \mbox{\hyperlink{io__control_8c_aa4fbc272de389e539360bb6b7876dd7d}{set\_freq\_output}}(uint16\_t\ freq)}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00360}00360\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00361}00361\ \ \ \ \ \textcolor{keyword}{const}\ uint16\_t\ F\_MAX\ \ \ \ =\ 150;\ \ \ \textcolor{comment}{//\ Hz}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00362}00362\ \ \ \ \ \textcolor{keyword}{const}\ uint16\_t\ DUTY\_MAX\ =\ 98;\ \ \ \ \textcolor{comment}{//\ \%}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00363}00363\ \ \ \ \ \textcolor{keyword}{const}\ uint16\_t\ DUTY\_MIN\ =\ 54;\ \ \ \ \textcolor{comment}{//\ \%}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00364}00364\ \ \ \ \ \textcolor{keyword}{const}\ uint32\_t\ PWM\_MAX\ \ =\ 1023;\ \ \textcolor{comment}{//\ ticks\ (10\ bits)}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00365}00365\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00366}00366\ \ \ \ \ \textcolor{keywordflow}{if}\ (freq\ >\ F\_MAX)\ freq\ =\ F\_MAX;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00367}00367\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00368}00368\ \ \ \ \ \textcolor{comment}{//\ duty\_pct\ =\ 98\ -\/\ round(\ (44*freq)/150\ )}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00369}00369\ \ \ \ \ uint16\_t\ drop\ =\ (uint16\_t)((44u\ *\ freq\ +\ 75u)\ /\ 150u);\ \ \ \textcolor{comment}{//\ +75\ para\ redondeo}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00370}00370\ \ \ \ \ \textcolor{keywordtype}{int}\ duty\_pct\ \ =\ (int)DUTY\_MAX\ -\/\ (\textcolor{keywordtype}{int})drop;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00371}00371\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00372}00372\ \ \ \ \ \textcolor{keywordflow}{if}\ (duty\_pct\ <\ DUTY\_MIN)\ duty\_pct\ =\ DUTY\_MIN;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00373}00373\ \ \ \ \ \textcolor{keywordflow}{if}\ (duty\_pct\ >\ DUTY\_MAX)\ duty\_pct\ =\ DUTY\_MAX;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00374}00374\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00375}00375\ \ \ \ \ \textcolor{comment}{//\ ticks\ =\ round(\ duty\_pct/100\ *\ 1023\ )}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00376}00376\ \ \ \ \ uint32\_t\ ticks\ =\ (uint32\_t)((duty\_pct\ *\ PWM\_MAX\ +\ 50u)\ /\ 100u);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00377}00377\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00378}00378\ \ \ \ \ \textcolor{keywordflow}{if}\ (ledc\_get\_duty(\mbox{\hyperlink{io__control_8c_ab5e3533bab20d16e08c7370af5a44222}{PWM\_MODE}},\ \mbox{\hyperlink{io__control_8c_acd1dba11989277eab79a76f9f2731bf9}{PWM\_CHANNEL}})\ !=\ ticks)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00379}00379\ \ \ \ \ \ \ \ \ ESP\_ERROR\_CHECK(ledc\_set\_duty(\mbox{\hyperlink{io__control_8c_ab5e3533bab20d16e08c7370af5a44222}{PWM\_MODE}},\ \mbox{\hyperlink{io__control_8c_acd1dba11989277eab79a76f9f2731bf9}{PWM\_CHANNEL}},\ ticks));}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00380}00380\ \ \ \ \ \ \ \ \ ESP\_ERROR\_CHECK(ledc\_update\_duty(\mbox{\hyperlink{io__control_8c_ab5e3533bab20d16e08c7370af5a44222}{PWM\_MODE}},\ \mbox{\hyperlink{io__control_8c_acd1dba11989277eab79a76f9f2731bf9}{PWM\_CHANNEL}}));}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00381}00381\ \ \ \ \ \ \ \ \ ESP\_LOGI(\textcolor{stringliteral}{"{}PWM"{}},\ \textcolor{stringliteral}{"{}Freq=\%u\ Hz,\ Duty=\%d\%\%\ (ticks=\%lu)"{}},\ freq,\ duty\_pct,\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long})ticks);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00382}00382\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00383}00383\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00384}00384\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00385}00385\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00386}\mbox{\hyperlink{io__control_8c_af7133eb911ac63b8e81d756ec399ff78}{00386}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{io__control_8c_af7133eb911ac63b8e81d756ec399ff78}{GPIO\_interrupt\_attendance\_task}}(\textcolor{keywordtype}{void}*\ arg)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00387}00387\ \ \ \ \ uint32\_t\ io\_num;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00388}00388\ \ \ \ \ uint32\_t\ last\_interrupt\ =\ 0;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00389}00389\ \ \ \ \ uint8\_t\ scratch\_data;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00390}00390\ \ \ \ \ uint8\_t\ speed\_selector;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00391}00391\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00392}00392\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_m_c_p23017_8c_ae831de4438e6f78cb8fb8d57b90960a5}{MCP23017\_INIT}}()\ ==\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00393}00393\ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}MCP23017\ Tarea\ iniciada\ correctamente"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00394}00394\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00395}00395\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Error\ al\ inicializar\ el\ MCP23017"{}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00396}00396\ \ \ \ \ \ \ \ \ ESP\_ERROR\_CHECK(ESP\_FAIL);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00397}00397\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00398}00398\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00399}00399\ \ \ \ \ \mbox{\hyperlink{io__control_8c_abae7d7c2e12b86eb5145cea5a283e2c0}{gpio\_init\_interrupts}}();}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00400}00400\ \ \ \ \ \mbox{\hyperlink{io__control_8c_af82b8f1ed0782934f29e1b35958aac7f}{freq\_0\_10V\_output}}();}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00401}00401\ \ \ \ \ \mbox{\hyperlink{io__control_8c_aa4fbc272de389e539360bb6b7876dd7d}{set\_freq\_output}}(0);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00402}00402\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00403}00403\ \ \ \ \ xTaskCreate(\mbox{\hyperlink{io__control_8c_ac926bfc46245d8567a5603aeb1543944}{MCP23017\_buzzer\_control}},\ \textcolor{stringliteral}{"{}MCP23017\_buzzer\_control"{}},\ 2048,\ NULL,\ 10,\ NULL);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00404}00404\ \ \ \ \ xTaskCreate(\mbox{\hyperlink{io__control_8c_aeddc02ca25ecb0eb02eab9b4bc8d2953}{MCP23017\_relay\_control}},\ \textcolor{stringliteral}{"{}MCP23017\_relay\_control"{}},\ 2048,\ NULL,\ 10,\ NULL);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00405}00405\ \ \ \ \ xTaskCreate(\mbox{\hyperlink{io__control_8c_add33b8521581fbc9c97daf332f36491f}{MCP23017\_keyboard\_control}},\ \textcolor{stringliteral}{"{}MCP23017\_keyboard\_control"{}},\ 2048,\ NULL,\ 10,\ NULL);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00406}00406\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00407}00407\ \ \ \ \ vTaskDelay(pdMS\_TO\_TICKS(100));}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00408}00408\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00409}00409\ \ \ \ \ \textcolor{keywordflow}{for}(;;)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00410}00410\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsystem__status__t}{system\_status\_t}}\ s\_e;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00411}00411\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_a7bf3fbe77325da35d54220bf89fb26ce}{get\_status}}(\&s\_e);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00412}00412\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aa4fbc272de389e539360bb6b7876dd7d}{set\_freq\_output}}(s\_e.\mbox{\hyperlink{structsystem__status__t_aea762e0e67fcafaf5b3cd61201769926}{frequency}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00413}00413\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(xQueueReceive(\mbox{\hyperlink{io__control_8c_ae651902dce58637fa5a4c29ce35578d7}{GPIO\_evt\_queue}},\ \&io\_num,\ pdMS\_TO\_TICKS(50)))\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00414}00414\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ io\_num\ ==\ \mbox{\hyperlink{io__control_8c_aa4c8164303a6278c743c5b391e36d887}{INT\_A\_PIN}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_ERROR\_CHECK\_WITHOUT\_ABORT(\ \mbox{\hyperlink{_m_c_p23017_8c_a7b2284a2d02ab4515e7742720352c1ed}{mcp\_interrupt\_flag}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ \&scratch\_data)\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_ERROR\_CHECK\_WITHOUT\_ABORT(\ \mbox{\hyperlink{_m_c_p23017_8c_a22dd18f78e093af119af2aaa0ef2bd6d}{mcp\_read\_port}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ \&\mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}})\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00417}00417\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ scratch\_data\ \&\ \mbox{\hyperlink{io__control_8c_a1b26a96e962ed1dc2e1085e7b0d008cb}{TERMO\_SW\_MASK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ \&\ \mbox{\hyperlink{io__control_8c_a1b26a96e962ed1dc2e1085e7b0d008cb}{TERMO\_SW\_MASK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796abcb0b2c8962fd29cc040541a0098d610}{TERMO\_SW\_RELEASED}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00421}00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00422}00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796aba2430dee359622ce93e0bc30200dbb4}{TERMO\_SW\_PRESSED}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\ scratch\_data\ \&\ \mbox{\hyperlink{io__control_8c_a2161dbbc9458cc9a4e2fb5fb1d43984d}{FREQ\_SEL\_MASK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00425}00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ =\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{\string~mcp\_porta}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00426}00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ speed\_selector\ =\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ \&\ \mbox{\hyperlink{io__control_8c_a2161dbbc9458cc9a4e2fb5fb1d43984d}{FREQ\_SEL\_MASK}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 00ss\ ss00}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ speed\_selector\ =\ (\ speed\_selector\ >>\ (\ \mbox{\hyperlink{io__control_8c_a3c40b6f2759ac9a791c15a236ed42072}{FREQ\_SEL\_1\_PIN}}\ )\ );\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 0000\ ssss}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00428}00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a358a2b2b7d5d25917484d0604b8b8c61}{SPEED\_SELECTOR\_0}}\ +\ speed\_selector;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00429}00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\ scratch\_data\ \&\ \mbox{\hyperlink{io__control_8c_a9dcd1ad76cfff992a7e30b8f4ec177cc}{STOP\_SW\_MASK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ \&\ \mbox{\hyperlink{io__control_8c_a9dcd1ad76cfff992a7e30b8f4ec177cc}{STOP\_SW\_MASK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a5c721f64225ace40ee5401ce7bf66af1}{STOP\_RELEASED}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796aa9aca1a320269de9561c234df472939c}{STOP\_PRESSED}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\ io\_num\ ==\ \mbox{\hyperlink{io__control_8c_aeb122726ffb667b61d0a0982f1183b4e}{INT\_B\_PIN}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_ERROR\_CHECK\_WITHOUT\_ABORT(\ \mbox{\hyperlink{_m_c_p23017_8c_a22dd18f78e093af119af2aaa0ef2bd6d}{mcp\_read\_port}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae51dea4a37f3e2ede7ba6f27c563f6a4}{PORTB}},\ \&\mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}})\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00438}00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}})\{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00439}00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{io__control_8c_a606428ac54f2b512691ba142b5faffde}{SWITCH\_BUTTON\_MENU}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00440}00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796ab964e5038b062d4b6d1287996db4ddd4}{BUTTON\_MENU}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00441}00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00442}00442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{io__control_8c_a9807cf28ac3ee350a20a07d1e07ac6d9}{SWITCH\_BUTTON\_DOWN}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00443}00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a0c7746cfbcac16484b2266e6f51e5e0b}{BUTTON\_DOWN}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00444}00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00445}00445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{io__control_8c_aab1eba452d99a4622ef544f9e4ab7ff5}{SWITCH\_BUTTON\_RIGHT}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00446}00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a13046edd6d64a0de5821b5ff4c7581ce}{BUTTON\_RIGHT}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00447}00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00448}00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{io__control_8c_a95ca6a6bf7cee54ffda97f1dc0cdd25c}{SWITCH\_BUTTON\_LEFT}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00449}00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a55dc0d53615e28ee8af66827bee48e4e}{BUTTON\_LEFT}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00450}00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00451}00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{io__control_8c_a298194afd3f1c0e54eb4cc6b08c02714}{SWITCH\_BUTTON\_UP}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00452}00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a37666936297216dce293b0aa31c474b8}{BUTTON\_UP}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00453}00453\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00454}00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{io__control_8c_a356c64d23dd9abd4eee02a8682698ea3}{SWITCH\_BUTTON\_OK}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00455}00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a3534e510a800f1a3975a255756f0246d}{BUTTON\_OK}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00456}00456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00457}00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{io__control_8c_a16cb1b451588ee4ff9ce835d2f14edaf}{SWITCH\_BUTTON\_SAVE}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00458}00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a8dcc4bb9d4e2b215128f0e14faab9d48}{BUTTON\_SAVE}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00459}00459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00460}00460\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{io__control_8c_ae8d8bdc80eb643813f9cd2006d0982e2}{SWITCH\_BUTTON\_BACK}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00461}00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a80bbae5d9dece7dc5b0d0a45f9390770}{BUTTON\_BACK}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00462}00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00463}00463\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00464}00464\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\ io\_num\ ==\ \mbox{\hyperlink{io__control_8c_a9da436c5bf6a3ce86e3c4a178ca6a862}{STOP\_BUTTON\_PIN}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00465}00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ gpio\_get\_level(io\_num)\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00466}00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a763a5af56f6336bb097fc295c10224c6}{EMERGENCI\_STOP\_PRESSED}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00467}00467\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00468}00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a8ecc5c208d515907194017a50654a5f0}{EMERGENCI\_STOP\_RELEASED}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00469}00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00470}00470\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\ io\_num\ ==\ \mbox{\hyperlink{io__control_8c_af727d34dc72e3f32bd32754111724a0b}{START\_BUTTON\_PIN}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00471}00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !gpio\_get\_level(io\_num)\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00472}00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a63785524fddc6173ea49aacebd1ba9b4}{START\_PRESSED}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00473}00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00474}00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ last\_interrupt\ =\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a3ceda522fe82f4612779cbe9ffea6ddd}{START\_RELEASED}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00475}00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00476}00476\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00477}00477\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00478}00478\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00479}00479\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_a22dd18f78e093af119af2aaa0ef2bd6d}{mcp\_read\_port}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae3201f6e0d0c1e138c60903276bb3859}{PORTA}},\ \&\mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00480}00480\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_m_c_p23017_8c_a22dd18f78e093af119af2aaa0ef2bd6d}{mcp\_read\_port}}(\mbox{\hyperlink{mcp23017__defs_8h_a7b7476975849505bba2c9b211b62d5bdae51dea4a37f3e2ede7ba6f27c563f6a4}{PORTB}},\ \&\mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}});}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00481}00481\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00482}00482\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (last\_interrupt)\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796ab964e5038b062d4b6d1287996db4ddd4}{BUTTON\_MENU}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ ==\ \mbox{\hyperlink{io__control_8c_a606428ac54f2b512691ba142b5faffde}{SWITCH\_BUTTON\_MENU}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{display_8c_ac70cfc639d4afbd5116d8361b1b25b41}{DisplayEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00486}00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ 50\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a0c7746cfbcac16484b2266e6f51e5e0b}{BUTTON\_DOWN}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ ==\ \mbox{\hyperlink{io__control_8c_a9807cf28ac3ee350a20a07d1e07ac6d9}{SWITCH\_BUTTON\_DOWN}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{display_8c_ac70cfc639d4afbd5116d8361b1b25b41}{DisplayEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ 50\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a13046edd6d64a0de5821b5ff4c7581ce}{BUTTON\_RIGHT}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ ==\ \mbox{\hyperlink{io__control_8c_aab1eba452d99a4622ef544f9e4ab7ff5}{SWITCH\_BUTTON\_RIGHT}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{display_8c_ac70cfc639d4afbd5116d8361b1b25b41}{DisplayEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00498}00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ 50\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00499}00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00500}00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00501}00501\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a55dc0d53615e28ee8af66827bee48e4e}{BUTTON\_LEFT}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00502}00502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ ==\ \mbox{\hyperlink{io__control_8c_a95ca6a6bf7cee54ffda97f1dc0cdd25c}{SWITCH\_BUTTON\_LEFT}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00503}00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{display_8c_ac70cfc639d4afbd5116d8361b1b25b41}{DisplayEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00504}00504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ 50\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00505}00505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00506}00506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00507}00507\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a37666936297216dce293b0aa31c474b8}{BUTTON\_UP}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00508}00508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ ==\ \mbox{\hyperlink{io__control_8c_a298194afd3f1c0e54eb4cc6b08c02714}{SWITCH\_BUTTON\_UP}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00509}00509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{display_8c_ac70cfc639d4afbd5116d8361b1b25b41}{DisplayEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00510}00510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ 50\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00511}00511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00512}00512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00513}00513\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a3534e510a800f1a3975a255756f0246d}{BUTTON\_OK}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00514}00514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ ==\ \mbox{\hyperlink{io__control_8c_a356c64d23dd9abd4eee02a8682698ea3}{SWITCH\_BUTTON\_OK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00515}00515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{display_8c_ac70cfc639d4afbd5116d8361b1b25b41}{DisplayEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00516}00516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ 50\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00517}00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00518}00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00519}00519\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a8dcc4bb9d4e2b215128f0e14faab9d48}{BUTTON\_SAVE}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00520}00520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ ==\ \mbox{\hyperlink{io__control_8c_a16cb1b451588ee4ff9ce835d2f14edaf}{SWITCH\_BUTTON\_SAVE}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00521}00521\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{display_8c_ac70cfc639d4afbd5116d8361b1b25b41}{DisplayEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00522}00522\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ 50\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00523}00523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00524}00524\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00525}00525\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a80bbae5d9dece7dc5b0d0a45f9390770}{BUTTON\_BACK}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00526}00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_aa34f05c6e4f239a03e67ead4c9081773}{mcp\_portb}}\ ==\ \mbox{\hyperlink{io__control_8c_ae8d8bdc80eb643813f9cd2006d0982e2}{SWITCH\_BUTTON\_BACK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00527}00527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{display_8c_ac70cfc639d4afbd5116d8361b1b25b41}{DisplayEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00528}00528\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ 50\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00529}00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00530}00530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00531}00531\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796aba2430dee359622ce93e0bc30200dbb4}{TERMO\_SW\_PRESSED}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00532}00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !(\mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ \&\ \mbox{\hyperlink{io__control_8c_a1b26a96e962ed1dc2e1085e7b0d008cb}{TERMO\_SW\_MASK}})\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00533}00533\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00534}00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_a99f1c5e09ded6ba05fdd6b1f9d76db99}{RelayEvantPost}}(\ 1\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00535}00535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00536}00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00537}00537\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796abcb0b2c8962fd29cc040541a0098d610}{TERMO\_SW\_RELEASED}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00538}00538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ \&\ \mbox{\hyperlink{io__control_8c_a1b26a96e962ed1dc2e1085e7b0d008cb}{TERMO\_SW\_MASK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00539}00539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00540}00540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00541}00541\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00542}00542\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796aa9aca1a320269de9561c234df472939c}{STOP\_PRESSED}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00543}00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !(\mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ \&\ \mbox{\hyperlink{io__control_8c_a9dcd1ad76cfff992a7e30b8f4ec177cc}{STOP\_SW\_MASK}})\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00544}00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00545}00545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00546}00546\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00547}00547\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a5c721f64225ace40ee5401ce7bf66af1}{STOP\_RELEASED}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00548}00548\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ \&\ \mbox{\hyperlink{io__control_8c_a9dcd1ad76cfff992a7e30b8f4ec177cc}{STOP\_SW\_MASK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00549}00549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00550}00550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00551}00551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00552}00552\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a358a2b2b7d5d25917484d0604b8b8c61}{SPEED\_SELECTOR\_0}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00553}00553\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796ae43bf9bce9d9d974d8c49591073f07f3}{SPEED\_SELECTOR\_1}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00554}00554\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a0bbea2c20296f454237438bb42f9a60a}{SPEED\_SELECTOR\_2}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00555}00555\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796abd5d9529779c1898ec0e751b73baaa11}{SPEED\_SELECTOR\_3}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00556}00556\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a16fbe5797dd7a2ba4232942b933fbc28}{SPEED\_SELECTOR\_4}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00557}00557\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a4b6f37253b2a4bc26776c0b0ec42b497}{SPEED\_SELECTOR\_5}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00558}00558\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a83e86c5ce7c84431fc2ebd24178d2d55}{SPEED\_SELECTOR\_6}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00559}00559\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a8ef3a2e510ee1546eaa292f1cb4f48a9}{SPEED\_SELECTOR\_7}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00560}00560\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796abbea50e710109e7e6692d445362c8b48}{SPEED\_SELECTOR\_8}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00561}00561\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a68941af0ed0d68bc31c09e87a8c5490d}{SPEED\_SELECTOR\_9}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00562}00562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ =\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{\string~mcp\_porta}};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00563}00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ speed\_selector\ =\ \mbox{\hyperlink{io__control_8c_a0cf183b105c6ce6cf83ef2f2ff16cad4}{mcp\_porta}}\ \&\ \mbox{\hyperlink{io__control_8c_a2161dbbc9458cc9a4e2fb5fb1d43984d}{FREQ\_SEL\_MASK}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 00ss\ ss00}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00564}00564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ speed\_selector\ =\ (\ speed\_selector\ >>\ (\ \mbox{\hyperlink{io__control_8c_a3c40b6f2759ac9a791c15a236ed42072}{FREQ\_SEL\_1\_PIN}}\ )\ );\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 0000\ ssss}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00565}00565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ speed\_selector\ +\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a358a2b2b7d5d25917484d0604b8b8c61}{SPEED\_SELECTOR\_0}}\ ==\ last\_interrupt\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00566}00566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00567}00567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00568}00568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00569}00569\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a763a5af56f6336bb097fc295c10224c6}{EMERGENCI\_STOP\_PRESSED}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00570}00570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ gpio\_get\_level(\mbox{\hyperlink{io__control_8c_a9da436c5bf6a3ce86e3c4a178ca6a862}{STOP\_BUTTON\_PIN}})\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00571}00571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00572}00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_a99f1c5e09ded6ba05fdd6b1f9d76db99}{RelayEvantPost}}(\ 1\ );}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00573}00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00574}00574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00575}00575\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a8ecc5c208d515907194017a50654a5f0}{EMERGENCI\_STOP\_RELEASED}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00576}00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !gpio\_get\_level(\mbox{\hyperlink{io__control_8c_a9da436c5bf6a3ce86e3c4a178ca6a862}{STOP\_BUTTON\_PIN}})\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00577}00577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00578}00578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00579}00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00580}00580\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a63785524fddc6173ea49aacebd1ba9b4}{START\_PRESSED}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00581}00581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ !gpio\_get\_level(\mbox{\hyperlink{io__control_8c_af727d34dc72e3f32bd32754111724a0b}{START\_BUTTON\_PIN}})\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00582}00582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00583}00583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00584}00584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00585}00585\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a3ceda522fe82f4612779cbe9ffea6ddd}{START\_RELEASED}}:}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00586}00586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ gpio\_get\_level(\mbox{\hyperlink{io__control_8c_af727d34dc72e3f32bd32754111724a0b}{START\_BUTTON\_PIN}})\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00587}00587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(last\_interrupt);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00588}00588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00589}00589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00590}00590\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00591}00591\ \ \ \ \ \ \ \ \ last\_interrupt\ =\ 0;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00592}00592\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00593}00593\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00594}00594\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00595}\mbox{\hyperlink{io__control_8c_a99f1c5e09ded6ba05fdd6b1f9d76db99}{00595}}\ esp\_err\_t\ \mbox{\hyperlink{io__control_8c_a99f1c5e09ded6ba05fdd6b1f9d76db99}{RelayEvantPost}}(\ uint8\_t\ relay\_event\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00596}00596\ \ \ \ \ uint8\_t\ \textcolor{keyword}{event}\ =\ relay\_event;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00597}00597\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Relay\ event:\ \%d"{}},\ event);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00598}00598\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ event\ ==\ 1\ ||\ event\ ==\ 0\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00599}00599\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ xQueueSend(\mbox{\hyperlink{io__control_8c_aac3c2758bf842cba44442e18e8a5dd77}{relay\_evt\_queue}},\ \&event,\ 0);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00600}00600\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00601}00601\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_FAIL;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00602}00602\ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00603}00603\ }
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00604}\mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{00604}}\ esp\_err\_t\ \mbox{\hyperlink{io__control_8c_aed21490f8fc34ffb3d9021ed1cf7214a}{BuzzerEvantPost}}(\ uint32\_t\ buzzer\_time\_on\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00605}00605\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ buzzer\_time\_on\ >\ 3000\ )\ \{}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00606}00606\ \ \ \ \ \ \ \ \ buzzer\_time\_on\ =\ 3000;}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00607}00607\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00608}00608\ \ \ \ \ \textcolor{keywordflow}{return}\ xQueueSend(\mbox{\hyperlink{io__control_8c_aedd7b01d9ead80d106e8ab03f60593cd}{buzzer\_evt\_queue}},\ \&buzzer\_time\_on,\ 0);}
\DoxyCodeLine{\Hypertarget{io__control_8c_source_l00609}00609\ \}}

\end{DoxyCode}
