\doxysection{sys\+Control.\+c}
\hypertarget{sys_control_8c_source}{}\label{sys_control_8c_source}\index{C:/Users/User/LVFV\_ESP32/main/system/sysControl.c@{C:/Users/User/LVFV\_ESP32/main/system/sysControl.c}}
\mbox{\hyperlink{sys_control_8c}{Ir a la documentación de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}esp\_log.h"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00013}00013\ \textcolor{preprocessor}{\#include\ "{}esp\_err.h"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}freertos/FreeRTOS.h"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00016}00016\ \textcolor{preprocessor}{\#include\ "{}freertos/task.h"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00017}00017\ \textcolor{preprocessor}{\#include\ "{}freertos/queue.h"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00019}00019\ \textcolor{preprocessor}{\#include\ "{}driver/spi\_master.h"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00020}00020\ \textcolor{preprocessor}{\#include\ "{}driver/gpio.h"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00022}00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{io__control_8h}{./io\_control/io\_control.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00023}00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_l_v_f_v__system_8h}{../LVFV\_system.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00024}00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{display_8h}{./display/display.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00025}00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{adc_8h}{./adc/adc.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00026}00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sys_admin_8h}{./SysAdmin.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00027}00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sys_control_8h}{./SysControl.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00029}00029\ \textcolor{comment}{//\ =====\ Pines\ =====}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00030}\mbox{\hyperlink{sys_control_8c_a6c332c3f862c9e17cb09b32c73516a4a}{00030}}\ \textcolor{preprocessor}{\#define\ PIN\_NUM\_CS\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 12\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00031}\mbox{\hyperlink{sys_control_8c_a756bcaa6e44d1879623a058849c66fbb}{00031}}\ \textcolor{preprocessor}{\#define\ PIN\_NUM\_CLK\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 14\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00032}\mbox{\hyperlink{sys_control_8c_a4ffa0949bfda52d9c7b37fcb148cbb53}{00032}}\ \textcolor{preprocessor}{\#define\ PIN\_NUM\_MISO\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 26\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00033}\mbox{\hyperlink{sys_control_8c_a060569807a8819489e6a7b4ee17ad67b}{00033}}\ \textcolor{preprocessor}{\#define\ PIN\_NUM\_MOSI\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 25\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00035}00035\ \textcolor{comment}{//\ =====\ SPI\ =====}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00036}\mbox{\hyperlink{sys_control_8c_abdefebebc9a687a44d211bff0a7e2ba7}{00036}}\ \textcolor{preprocessor}{\#define\ SPI\_HOST\_USED\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SPI2\_HOST\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00037}\mbox{\hyperlink{sys_control_8c_a9572e15a5d84776a6096a9b803605c2a}{00037}}\ \textcolor{preprocessor}{\#define\ SPI\_CLOCK\_HZ\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1*1000*1000\ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00038}\mbox{\hyperlink{sys_control_8c_a3f984b96b51ca55db0782a79a70afd0c}{00038}}\ \textcolor{preprocessor}{\#define\ SPI\_QUEUE\_TX\_DEPTH\ \ \ \ \ \ \ \ \ \ \ \ \ \ 1\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00040}\mbox{\hyperlink{sys_control_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{00040}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}}\ =\ \textcolor{stringliteral}{"{}sysControl"{}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00042}\mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{00042}}\ QueueHandle\_t\ \mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}}\ =\ NULL;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00044}\mbox{\hyperlink{sys_control_8c_a805cfba6efbab00f398be9bc6a71ba7e}{00044}}\ \textcolor{keyword}{static}\ spi\_device\_handle\_t\ \mbox{\hyperlink{sys_control_8c_a805cfba6efbab00f398be9bc6a71ba7e}{spi\_handle}}\ =\ NULL;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Handler\ del\ puerto\ SPI\ para\ comunicación\ con\ el\ STM32.\ Inicializado\ en\ esp\_err\_t\ SPI\_Init(void)}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00065}00065\ \textcolor{keyword}{static}\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9}{SPI\_Response}}\ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\mbox{\hyperlink{structspi__cmd__item__t}{spi\_cmd\_item\_t}}\ *spi\_cmd\_item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00067}\mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{00067}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9}{SPI\_Response}}\ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\mbox{\hyperlink{structspi__cmd__item__t}{spi\_cmd\_item\_t}}\ *spi\_cmd\_item)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00068}00068\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00069}00069\ \ \ \ \ uint8\_t\ tx\_buffer[4];}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00070}00070\ \ \ \ \ uint8\_t\ rx\_buffer[4];}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00071}00071\ \ \ \ \ esp\_err\_t\ ret;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00072}00072\ \ \ \ \ \textcolor{keywordtype}{int}\ flagDevolverValor;\ \ \ \ \ \ \textcolor{comment}{//\ Se\ necesita\ devolver\ el\ valor\ por\ parametro}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00074}00074\ \ \ \ \ ESP\_LOGI(\ \mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}[SPI\ Module]\ Request\ \%d"{}},\ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00076}00076\ \ \ \ \ \textcolor{comment}{//\ Chequeo\ de\ errores\ fuera\ de\ rango\ y\ comando\ desconocido}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00077}00077\ \ \ \ \ \textcolor{keywordflow}{if}(spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ >\ 512\ ||\ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ <\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00078}00078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a61474fe74a6c8ad2ee1ab7fd1c572dbb}{SPI\_RESPONSE\_ERR\_DATA\_INVALID}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00079}00079\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00081}00081\ \ \ \ \ \textcolor{keywordflow}{if}(spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ <\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5afb08ac5078702d238e336a813719e9ac}{SPI\_REQUEST\_START}}\ ||\ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ >\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a3e1e4b098113ed293e6cc38961d15105}{SPI\_REQUEST\_EMERGENCY}})\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00082}00082\ \ \ \ \ \ \ \ \ ESP\_LOGI(\ \mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}[SPI\ Module]\ Comando\ desconocido\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00083}00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a732ecbbd42a5e8809536040964c86427}{SPI\_RESPONSE\_ERR\_CMD\_UNKNOWN}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00084}00084\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00086}00086\ \ \ \ \ \textcolor{comment}{//\ Es\ de\ los\ comandos\ que\ deben\ devolver\ un\ valor\ por\ parametro?}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00087}00087\ \ \ \ \ \textcolor{keywordflow}{if}(spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ >=\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a2885786ad2c90e237e562f56737d5a51}{SPI\_REQUEST\_GET\_FREC}}\ \&\&\ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ <=\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a3b1235b2b1f4a2b76d6c9986e04d2c90}{SPI\_REQUEST\_IS\_STOP}})\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00088}00088\ \ \ \ \ \ \ \ \ flagDevolverValor\ =\ 1;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00089}00089\ \ \ \ \ \}\textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00090}00090\ \ \ \ \ \ \ \ \ flagDevolverValor\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00091}00091\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00093}00093\ \ \ \ \ \textcolor{comment}{//\ Se\ arma\ la\ cadena\ a\ enviar}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00094}00094\ \ \ \ \ tx\_buffer[0]\ =\ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00096}00096\ \ \ \ \ \textcolor{keywordflow}{if}(spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ >\ 255)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00097}00097\ \ \ \ \ \ \ \ \ tx\_buffer[1]\ =\ 255;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00098}00098\ \ \ \ \ \ \ \ \ tx\_buffer[2]\ =\ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ -\/\ 255;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00099}00099\ \ \ \ \ \ \ \ \ tx\_buffer[3]\ =\ \textcolor{charliteral}{';'};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00100}00100\ \ \ \ \ \}\textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00101}00101\ \ \ \ \ \ \ \ \ tx\_buffer[1]\ =\ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00102}00102\ \ \ \ \ \ \ \ \ tx\_buffer[2]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00103}00103\ \ \ \ \ \ \ \ \ tx\_buffer[3]\ =\ \textcolor{charliteral}{';'};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00104}00104\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00107}00107\ \ \ \ \ \textcolor{comment}{//\ Limpiamos\ el\ buffer\ de\ recepcion}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00108}00108\ \ \ \ \ memset(rx\_buffer,\ 0,\ \textcolor{keyword}{sizeof}(rx\_buffer));}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00110}00110\ \ \ \ \ \textcolor{comment}{//\ Siempre\ envio\ y\ recibo\ 4\ bytes}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00111}00111\ \ \ \ \ spi\_transaction\_t\ t\ =\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00112}00112\ \ \ \ \ \ \ \ \ .length\ =\ 8\ *\ 4,}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00113}00113\ \ \ \ \ \ \ \ \ .tx\_buffer\ =\ tx\_buffer,}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00114}00114\ \ \ \ \ \ \ \ \ .rx\_buffer\ =\ rx\_buffer,}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00115}00115\ \ \ \ \ \ \ \ \ .rxlength\ =\ 8\ *\ 4,}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00116}00116\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00118}00118\ \ \ \ \ ret\ =\ spi\_device\_transmit(\mbox{\hyperlink{sys_control_8c_a805cfba6efbab00f398be9bc6a71ba7e}{spi\_handle}},\ \&t);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00119}00119\ \ \ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00120}00120\ \ \ \ \ \ \ \ \ ESP\_LOGI(\ \mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}[ESP32]\ Error\ en\ SPI\ transmit:\ \%d"{}},\ ret);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00121}00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a5a270a88abe106fde26e3725dc54115e}{SPI\_RESPONSE\_ERR}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00122}00122\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00124}00124\ \ \ \ \ tx\_buffer[0]\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5ad00e47a3fa1e44b0879a19b021b4c8d8}{SPI\_REQUEST\_RESPONSE}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00125}00125\ \ \ \ \ tx\_buffer[1]\ =\ \textcolor{charliteral}{';'};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00127}00127\ \ \ \ \ t.length\ =\ 8\ *\ 4;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00128}00128\ \ \ \ \ t.tx\_buffer\ =\ tx\_buffer;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00129}00129\ \ \ \ \ t.rx\_buffer\ =\ rx\_buffer;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00130}00130\ \ \ \ \ t.rxlength\ =\ 8\ *\ 4;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00132}00132\ \ \ \ \ vTaskDelay(pdMS\_TO\_TICKS(400));}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00134}00134\ \ \ \ \ ret\ =\ spi\_device\_transmit(\mbox{\hyperlink{sys_control_8c_a805cfba6efbab00f398be9bc6a71ba7e}{spi\_handle}},\ \&t);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00135}00135\ \ \ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00136}00136\ \ \ \ \ \ \ \ \ ESP\_LOGI(\ \mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}[ESP32]\ Error\ en\ SPI\ transmit:\ \%d"{}},\ ret);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00137}00137\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a5a270a88abe106fde26e3725dc54115e}{SPI\_RESPONSE\_ERR}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00138}00138\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00142}00142\ \ \ \ \ ESP\_LOGI(\ \mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}rx\_buffer[0]:\ \%d"{}},\ rx\_buffer[0]);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00143}00143\ \ \ \ \ \textcolor{keywordflow}{if}(flagDevolverValor\ \&\&\ rx\_buffer[0]\ ==\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a354b001329a9015ee8fa4d11fe98e1fb}{SPI\_RESPONSE\_OK}})\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00144}00144\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00145}00145\ \ \ \ \ \ \ \ \ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ rx\_buffer[1]\ +\ rx\_buffer[2];}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00146}00146\ \ \ \ \ \ \ \ \ ESP\_LOGI(\ \mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}RxValores:\ \%d\ -\/\ \%d"{}},\ rx\_buffer[1],\ rx\_buffer[2]);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00147}00147\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00148}00148\ \ \ \ \ \}\textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00149}00149\ \ \ \ \ \ \ \ \ spi\_cmd\_item-\/>\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00150}00150\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00151}00151\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00152}00152\ \ \ \ \ \textcolor{keywordflow}{return}\ rx\_buffer[0];}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00153}00153\ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00155}\mbox{\hyperlink{sys_control_8c_ad98df654b2d69b2699482f667045022e}{00155}}\ esp\_err\_t\ \mbox{\hyperlink{sys_control_8c_ad98df654b2d69b2699482f667045022e}{SPI\_Init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00156}00156\ \ \ \ \ spi\_bus\_config\_t\ buscfg\ =\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00157}00157\ \ \ \ \ \ \ \ \ .miso\_io\_num\ =\ \mbox{\hyperlink{sys_control_8c_a4ffa0949bfda52d9c7b37fcb148cbb53}{PIN\_NUM\_MISO}},}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00158}00158\ \ \ \ \ \ \ \ \ .mosi\_io\_num\ =\ \mbox{\hyperlink{sys_control_8c_a060569807a8819489e6a7b4ee17ad67b}{PIN\_NUM\_MOSI}},}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00159}00159\ \ \ \ \ \ \ \ \ .sclk\_io\_num\ =\ \mbox{\hyperlink{sys_control_8c_a756bcaa6e44d1879623a058849c66fbb}{PIN\_NUM\_CLK}},}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00160}00160\ \ \ \ \ \ \ \ \ .quadwp\_io\_num\ =\ -\/1,}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00161}00161\ \ \ \ \ \ \ \ \ .quadhd\_io\_num\ =\ -\/1,}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00162}00162\ \ \ \ \ \ \ \ \ .max\_transfer\_sz\ =\ 32}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00163}00163\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00164}00164\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00165}00165\ \ \ \ \ spi\_device\_interface\_config\_t\ devcfg\ =\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00166}00166\ \ \ \ \ \ \ \ \ .clock\_speed\_hz\ =\ \mbox{\hyperlink{sys_control_8c_a9572e15a5d84776a6096a9b803605c2a}{SPI\_CLOCK\_HZ}},}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00167}00167\ \ \ \ \ \ \ \ \ .mode\ =\ 0,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ SPI\ mode\ 0}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00168}00168\ \ \ \ \ \ \ \ \ .spics\_io\_num\ =\ \mbox{\hyperlink{sys_control_8c_a6c332c3f862c9e17cb09b32c73516a4a}{PIN\_NUM\_CS}},\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CS\ pin}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00169}00169\ \ \ \ \ \ \ \ \ .queue\_size\ =\ 1,}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00170}00170\ \ \ \ \ \ \ \ \ .flags\ =\ SPI\_DEVICE\_NO\_DUMMY\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Sin\ dummy\ bits}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00171}00171\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00173}00173\ \ \ \ \ \textcolor{comment}{//\ Inicializar\ bus\ SPI}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00174}00174\ \ \ \ \ esp\_err\_t\ ret\ =\ spi\_bus\_initialize(VSPI\_HOST,\ \&buscfg,\ 1);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00175}00175\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ ret\ !=\ ESP\_OK\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00176}00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00177}00177\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00178}00178\ \ \ \ \ ESP\_ERROR\_CHECK(ret);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00179}00179\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00180}00180\ \ \ \ \ \textcolor{comment}{//\ Añadir\ dispositivo}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00181}00181\ \ \ \ \ ret\ =\ spi\_bus\_add\_device(VSPI\_HOST,\ \&devcfg,\ \&\mbox{\hyperlink{sys_control_8c_a805cfba6efbab00f398be9bc6a71ba7e}{spi\_handle}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00182}00182\ \ \ \ \ ESP\_ERROR\_CHECK(ret);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00183}00183\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00184}00184\ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00185}00185\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00186}\mbox{\hyperlink{sys_control_8c_a50b899a34931236e1ec86c160983f167}{00186}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{sys_control_8c_a50b899a34931236e1ec86c160983f167}{SPI\_communication}}(\textcolor{keywordtype}{void}\ *arg)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00187}00187\ \ \ \ \ \mbox{\hyperlink{structspi__cmd__item__t}{spi\_cmd\_item\_t}}\ item;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00189}00189\ \ \ \ \ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796}{systemSignal\_e}}\ new\_button;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00191}00191\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{sys_control_8c_ad98df654b2d69b2699482f667045022e}{SPI\_Init}}()\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00192}00192\ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}SPI\_Init\ falló;\ no\ creo\ SPI\_communication"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00193}00193\ \ \ \ \ \ \ \ \ ESP\_ERROR\_CHECK(ESP\_FAIL);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00194}00194\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00195}00195\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00196}00196\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00197}00197\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}}\ =\ xQueueCreate(1,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796}{systemSignal\_e}}));}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00198}00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}No\ se\ pudo\ crear\ la\ cola\ de\ interrupciones"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_ERROR\_CHECK(ESP\_FAIL);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00201}00201\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00202}00202\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00203}00203\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00204}00204\ \ \ \ \ vTaskDelay(pdMS\_TO\_TICKS(4000));}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00205}00205\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00206}00206\ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00207}00207\ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a4baff6e3f2b188e4176a5a462f9c89d5}{SPI\_REQUEST\_STOP}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00208}00208\ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00209}00209\ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00210}00210\ \ \ \ \ \ \ \ \ vTaskDelay(pdMS\_TO\_TICKS(100));}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00211}00211\ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (\ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item)\ !=\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9af85830305f68c29305f43e85ca1fcd2a}{SPI\_RESPONSE\_ERR\_NOT\_MOVING}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00213}00213\ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_aa6c33be7b7273385ae39a1f682f28f75}{engine\_emergency\_stop}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00214}00214\ \ \ \ \ \textcolor{keywordflow}{for}\ (uint8\_t\ i\ =\ 0;\ i\ <\ 10;\ i++)\ \{\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00215}00215\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{adc_8c_aa1581e2212cf6853c63ae97147e9ed1f}{readADC}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00216}00216\ \ \ \ \ \ \ \ \ xQueueReceive(\ \mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}},\ \&new\_button,\ pdMS\_TO\_TICKS(20)\ );}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00217}00217\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00218}00218\ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_abb59808fe42c3d4dd43e0f91d1f699a9}{engine\_stop}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00219}00219\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00220}00220\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}SPI\_communication\ lista.\ Esperando\ comandos..."{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00222}00222\ \ \ \ \ \textcolor{keywordflow}{while}\ (1)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00223}00223\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsystem__status__t}{system\_status\_t}}\ s\_e;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00224}00224\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_a7bf3fbe77325da35d54220bf89fb26ce}{get\_status}}(\ \&s\_e\ );}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00225}00225\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{adc_8c_aa1581e2212cf6853c63ae97147e9ed1f}{readADC}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00226}00226\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ xQueueReceive(\ \mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}},\ \&new\_button,\ pdMS\_TO\_TICKS(20)\ )\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\ new\_button\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a763a5af56f6336bb097fc295c10224c6}{EMERGENCI\_STOP\_PRESSED}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Botón\ de\ EMERGENCIA\ presionado"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a3e1e4b098113ed293e6cc38961d15105}{SPI\_REQUEST\_EMERGENCY}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_aa6c33be7b7273385ae39a1f682f28f75}{engine\_emergency\_stop}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796aa9aca1a320269de9561c234df472939c}{STOP\_PRESSED}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ s\_e.\mbox{\hyperlink{structsystem__status__t_a255e9638fdd08fc3c12bd74ce8893217}{status}}\ !=\ \mbox{\hyperlink{_l_v_f_v__system_8h_a175b5f4c0244bf0bde30789366d31791abf715611d16f62350c373d1c4aa17547}{SYSTEM\_EMERGENCY}}\ ||\ s\_e.\mbox{\hyperlink{structsystem__status__t_a255e9638fdd08fc3c12bd74ce8893217}{status}}\ !=\ \mbox{\hyperlink{_l_v_f_v__system_8h_a175b5f4c0244bf0bde30789366d31791afa44959cbb89c7f6c3da69da5f014a08}{SYSTEM\_EMERGENCY\_SENT}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_abb59808fe42c3d4dd43e0f91d1f699a9}{engine\_stop}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Botón\ de\ Parada\ presionado"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a4baff6e3f2b188e4176a5a462f9c89d5}{SPI\_REQUEST\_STOP}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00241}00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00243}00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00244}00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00245}00245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\textcolor{stringliteral}{"{}Primero\ salir\ de\ estado\ de\ emergencia"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00247}00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796af31dc398d7d8cbf4a834c81d7dfa0e82}{SECURITY\_OK}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00249}00249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Tensión\ y\ corriente\ normalizadas"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_abd5d6163d42e21cfc63ce12acbb3cb64}{engine\_emergency\_stop\_release}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796abcb0b2c8962fd29cc040541a0098d610}{TERMO\_SW\_RELEASED}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Termoswitch\ desactivado"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_abd5d6163d42e21cfc63ce12acbb3cb64}{engine\_emergency\_stop\_release}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a8ecc5c208d515907194017a50654a5f0}{EMERGENCI\_STOP\_RELEASED}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Botón\ de\ EMERGENCIA\ liberado"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_abd5d6163d42e21cfc63ce12acbb3cb64}{engine\_emergency\_stop\_release}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a63785524fddc6173ea49aacebd1ba9b4}{START\_PRESSED}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00261}00261\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ s\_e.\mbox{\hyperlink{structsystem__status__t_a255e9638fdd08fc3c12bd74ce8893217}{status}}\ ==\ \mbox{\hyperlink{_l_v_f_v__system_8h_a175b5f4c0244bf0bde30789366d31791a20cc395940efb44d047c63108d2ef837}{SYSTEM\_IDLE}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Botón\ de\ Inicio\ presionado"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9}{SPI\_Response}}\ SPI\_commando\_response;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a7161c8e8f4f677d8f5537560bdb7f70e}{SPI\_REQUEST\_SET\_FREC}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ \mbox{\hyperlink{display_8c_a12dc0f33fbf57c48dffabf60ab02d01e}{get\_system\_frequency}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SPI\_commando\_response\ =\ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ SPI\_commando\_response\ !=\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a354b001329a9015ee8fa4d11fe98e1fb}{SPI\_RESPONSE\_OK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\textcolor{stringliteral}{"{}Error\ cargando\ la\ frecuencia"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5afefeeb17807a057814da8ca09c8a9179}{SPI\_REQUEST\_SET\_ACEL}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ \mbox{\hyperlink{display_8c_a66d26ed49b8196ba0498d8a553167ec3}{get\_system\_acceleration}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SPI\_commando\_response\ =\ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ SPI\_commando\_response\ !=\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a354b001329a9015ee8fa4d11fe98e1fb}{SPI\_RESPONSE\_OK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\textcolor{stringliteral}{"{}Error\ cargando\ la\ aceleracion"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5af17d7382d3bc959eb5de0c79bb5b740e}{SPI\_REQUEST\_SET\_DESACEL}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ \mbox{\hyperlink{display_8c_afa6a8bd839cfecfb389e75fc3946a6b7}{get\_system\_desacceleration}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SPI\_commando\_response\ =\ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ SPI\_commando\_response\ !=\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a354b001329a9015ee8fa4d11fe98e1fb}{SPI\_RESPONSE\_OK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\textcolor{stringliteral}{"{}Error\ cargando\ la\ desaceleracion"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00292}00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5afb08ac5078702d238e336a813719e9ac}{SPI\_REQUEST\_START}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SPI\_commando\_response\ =\ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ SPI\_commando\_response\ !=\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a354b001329a9015ee8fa4d11fe98e1fb}{SPI\_RESPONSE\_OK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\textcolor{stringliteral}{"{}Error\ arrancando\ el\ motor"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00299}00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00300}00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint16\_t\ dest\ =\ \mbox{\hyperlink{sys_admin_8c_a62e7c27f84d0db690242eeb717c4e17b}{engine\_start}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Motor\ arrancado.\ Frecuencia\ destino:\ \%d"{}},\ dest);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00304}00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\textcolor{stringliteral}{"{}El\ motor\ debe\ estar\ detenido\ para\ poder\ arrancarlo"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a3ceda522fe82f4612779cbe9ffea6ddd}{START\_RELEASED}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Botón\ de\ Inicio\ liberado"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a28442d6913cbeabc9ed6fe1e20a255bf}{SECURITY\_EXCEDED}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Corriente\ elevada\ o\ tensión\ reducida"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a3e1e4b098113ed293e6cc38961d15105}{SPI\_REQUEST\_EMERGENCY}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00316}00316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_aa6c33be7b7273385ae39a1f682f28f75}{engine\_emergency\_stop}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00317}00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{io__control_8c_a99f1c5e09ded6ba05fdd6b1f9d76db99}{RelayEvantPost}}(\ 1\ );}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796aba2430dee359622ce93e0bc30200dbb4}{TERMO\_SW\_PRESSED}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Termoswitch\ activo"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a3e1e4b098113ed293e6cc38961d15105}{SPI\_REQUEST\_EMERGENCY}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00324}00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_aa6c33be7b7273385ae39a1f682f28f75}{engine\_emergency\_stop}}();}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00327}00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a358a2b2b7d5d25917484d0604b8b8c61}{SPEED\_SELECTOR\_0}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796ae43bf9bce9d9d974d8c49591073f07f3}{SPEED\_SELECTOR\_1}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a0bbea2c20296f454237438bb42f9a60a}{SPEED\_SELECTOR\_2}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796abd5d9529779c1898ec0e751b73baaa11}{SPEED\_SELECTOR\_3}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a16fbe5797dd7a2ba4232942b933fbc28}{SPEED\_SELECTOR\_4}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a4b6f37253b2a4bc26776c0b0ec42b497}{SPEED\_SELECTOR\_5}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a83e86c5ce7c84431fc2ebd24178d2d55}{SPEED\_SELECTOR\_6}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a8ef3a2e510ee1546eaa292f1cb4f48a9}{SPEED\_SELECTOR\_7}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00335}00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796abbea50e710109e7e6692d445362c8b48}{SPEED\_SELECTOR\_8}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a68941af0ed0d68bc31c09e87a8c5490d}{SPEED\_SELECTOR\_9}}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00337}00337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ s\_e.\mbox{\hyperlink{structsystem__status__t_a255e9638fdd08fc3c12bd74ce8893217}{status}}\ ==\ \mbox{\hyperlink{_l_v_f_v__system_8h_a175b5f4c0244bf0bde30789366d31791af08242ba685ecc48c255df8932379618}{SYSTEM\_REGIME}}\ ||\ s\_e.\mbox{\hyperlink{structsystem__status__t_a255e9638fdd08fc3c12bd74ce8893217}{status}}\ ==\ \mbox{\hyperlink{_l_v_f_v__system_8h_a175b5f4c0244bf0bde30789366d31791a355058bb815d40f78a343c756d58c47f}{SYSTEM\_ACCLE\_DESACCEL}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Cambio\ de\ velocidad:\ \%d"{}},\ new\_button\ -\/\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a358a2b2b7d5d25917484d0604b8b8c61}{SPEED\_SELECTOR\_0}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ old\_input\_status\ =\ s\_e.\mbox{\hyperlink{structsystem__status__t_a9206201182a1a041892e8e8b302c08c2}{inputs\_status}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a8e022ff634b33af641a97b0e25f460b4}{request}}\ =\ \mbox{\hyperlink{sys_control_8h_abcc4e317bdfcd5f571d62f7ed92facc5a7161c8e8f4f677d8f5537560bdb7f70e}{SPI\_REQUEST\_SET\_FREC}};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a1d47142663b11051af2efd6c907dbf31}{setValue}}\ =\ \mbox{\hyperlink{sys_admin_8c_a6b7a46f08b0f4ed784a8001e221a32a8}{change\_frequency}}(\ new\_button\ -\/\ \mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796a358a2b2b7d5d25917484d0604b8b8c61}{SPEED\_SELECTOR\_0}}\ );}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ item.\mbox{\hyperlink{structspi__cmd__item__t_a0300a5e9803f32e219c0cecd82a25662}{getValue}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{sys_control_8c_a2d9e6e1ddc0c0ac33b911451037f71cd}{SPI\_SendRequest}}(\&item)\ !=\ \mbox{\hyperlink{sys_control_8h_acdb815a404f9450379dae79745e5ccd9a354b001329a9015ee8fa4d11fe98e1fb}{SPI\_RESPONSE\_OK}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{sys_admin_8c_a6b7a46f08b0f4ed784a8001e221a32a8}{change\_frequency}}(\ old\_input\_status\ );}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}El\ STM32\ no\ respondio\ correctamente"{}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ xQueueSend(\mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}},\ \&new\_button,\ pdMS\_TO\_TICKS(1000));}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00348}00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{adc_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}No\ puede\ cambiar\ la\ velocidad,\ status\ =\ \%d"{}},\ s\_e.\mbox{\hyperlink{structsystem__status__t_a255e9638fdd08fc3c12bd74ce8893217}{status}});}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00352}00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00356}00356\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00357}00357\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00358}00358\ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00359}00359\ }
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00360}\mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{00360}}\ esp\_err\_t\ \mbox{\hyperlink{sys_control_8c_aba4a84160e22ceea0cedd0ddcd454af4}{SystemEventPost}}(\mbox{\hyperlink{_l_v_f_v__system_8h_ab7a290ebff8e2a3230e8085ee87d4796}{systemSignal\_e}}\ event)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00361}00361\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00362}00362\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_FAIL;}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00363}00363\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00364}00364\ \ \ \ \ \textcolor{keywordflow}{return}\ xQueueSend(\mbox{\hyperlink{sys_control_8c_afc30189060043a947849f1be03105b4c}{system\_event\_queue}},\ \&event,\ 0);}
\DoxyCodeLine{\Hypertarget{sys_control_8c_source_l00365}00365\ \}}

\end{DoxyCode}
