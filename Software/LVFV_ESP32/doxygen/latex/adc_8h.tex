\doxysection{Referencia del archivo C\+:/\+Users/\+User/\+LVFV\+\_\+\+ESP32/main/adc/adc.h}
\hypertarget{adc_8h}{}\label{adc_8h}\index{C:/Users/User/LVFV\_ESP32/main/adc/adc.h@{C:/Users/User/LVFV\_ESP32/main/adc/adc.h}}


Declraración de funcion de inicialización y tarea lectura del ADC.  


{\ttfamily \#include "{}../\+LVFV\+\_\+system.\+h"{}}\newline
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{adc_8h_a1b78b89977b7b9e5ebc32e9456337379}{adc\+\_\+task}} (void \texorpdfstring{$\ast$}{*}arg)
\begin{DoxyCompactList}\small\item\em Función programada como alarma para finalizar el funcionamiento del motor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{adc_8h_a3cfa671db431099a0d91bd8bcfe935f8}{adc\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Configura los 4 ADC necesarios para el sistema y los calibra para obtener las mediciones en desde 0 a 3125mV. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_l_v_f_v__system_8h_a175b5f4c0244bf0bde30789366d31791}{system\+\_\+status\+\_\+e}} \mbox{\hyperlink{adc_8h_aa1581e2212cf6853c63ae97147e9ed1f}{read\+ADC}} (void)
\begin{DoxyCompactList}\small\item\em Desencola mediciones obtenidas desde el ADC para tensión y corriente del bus de contínua, compara con los parámetros seteados y dispara el estado de emergencia si es necesario. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Declraración de funcion de inicialización y tarea lectura del ADC. 

\begin{DoxyAuthor}{Autor}
Andrenacci -\/ Carra 
\end{DoxyAuthor}
\begin{DoxyVersion}{Versión}
2.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Fecha}
2025-\/11-\/06 
\end{DoxyDate}


Definición en el archivo \mbox{\hyperlink{adc_8h_source}{adc.\+h}}.



\label{doc-func-members}
\Hypertarget{adc_8h_doc-func-members}
\doxysubsection{Documentación de funciones}
\Hypertarget{adc_8h_a3cfa671db431099a0d91bd8bcfe935f8}\index{adc.h@{adc.h}!adc\_init@{adc\_init}}
\index{adc\_init@{adc\_init}!adc.h@{adc.h}}
\doxysubsubsection{\texorpdfstring{adc\_init()}{adc\_init()}}
{\footnotesize\ttfamily \label{adc_8h_a3cfa671db431099a0d91bd8bcfe935f8} 
esp\+\_\+err\+\_\+t adc\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Configura los 4 ADC necesarios para el sistema y los calibra para obtener las mediciones en desde 0 a 3125mV. 

Configura por las entradas el canal 0 (GPIO36) el nivel de tensión de fuente de 5V, 3 (GPIO39) el nivel de tensión de fuente de 3.\+3V, 6 (GPIO34) tensión de bus de contínua y 7 (GPIO35) corriente de bus de contínua cada 

Definición en la línea \mbox{\hyperlink{adc_8c_source_l00097}{97}} del archivo \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.

\Hypertarget{adc_8h_a1b78b89977b7b9e5ebc32e9456337379}\index{adc.h@{adc.h}!adc\_task@{adc\_task}}
\index{adc\_task@{adc\_task}!adc.h@{adc.h}}
\doxysubsubsection{\texorpdfstring{adc\_task()}{adc\_task()}}
{\footnotesize\ttfamily \label{adc_8h_a1b78b89977b7b9e5ebc32e9456337379} 
void adc\+\_\+task (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{arg}{}\end{DoxyParamCaption})}



Función programada como alarma para finalizar el funcionamiento del motor. 

Lee por las entradas el canal 0 (GPIO36) el nivel de tensión de fuente de 5V, 3 (GPIO39) el nivel de tensión de fuente de 3.\+3V, 6 (GPIO34) tensión de bus de contínua y 7 (GPIO35) corriente de bus de contínua cada 

Definición en la línea \mbox{\hyperlink{adc_8c_source_l00146}{146}} del archivo \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.

\Hypertarget{adc_8h_aa1581e2212cf6853c63ae97147e9ed1f}\index{adc.h@{adc.h}!readADC@{readADC}}
\index{readADC@{readADC}!adc.h@{adc.h}}
\doxysubsubsection{\texorpdfstring{readADC()}{readADC()}}
{\footnotesize\ttfamily \label{adc_8h_aa1581e2212cf6853c63ae97147e9ed1f} 
\mbox{\hyperlink{_l_v_f_v__system_8h_a175b5f4c0244bf0bde30789366d31791}{system\+\_\+status\+\_\+e}} read\+ADC (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Desencola mediciones obtenidas desde el ADC para tensión y corriente del bus de contínua, compara con los parámetros seteados y dispara el estado de emergencia si es necesario. 

Consulta si existe alguna medición encolada en bus\+\_\+meas\+\_\+evt\+\_\+queue sin ser bloqueante y envía esas mediciones a analizar por el sistema para evaluar si corresponde o no un estado de emergencia.


\begin{DoxyRetVals}{Valores devueltos}
{\em -\/} & SYSTEM\+\_\+\+EMERGENCY\+: Si las mediciones de tensión o corriente del bus de DC está fuera de los parámetros esperados
\begin{DoxyItemize}
\item SYSTEM\+\_\+\+EMERGENCY\+\_\+\+SENT\+: Si las mediciones de tensión o corriente del bus de DC continúan por fuera de los parámetros esperados
\item Otros estados\+: Si la medición está dentro de los parámetros aceptables 
\end{DoxyItemize}\\
\hline
\end{DoxyRetVals}


Definición en la línea \mbox{\hyperlink{adc_8c_source_l00239}{239}} del archivo \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.

