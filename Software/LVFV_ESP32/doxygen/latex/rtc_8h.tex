\doxysection{Referencia del archivo C\+:/\+Users/\+User/\+LVFV\+\_\+\+ESP32/main/rtc/rtc.h}
\hypertarget{rtc_8h}{}\label{rtc_8h}\index{C:/Users/User/LVFV\_ESP32/main/rtc/rtc.h@{C:/Users/User/LVFV\_ESP32/main/rtc/rtc.h}}


Header con prototipos de funciones básicas para el lectura y escritura del RTC y alarmas.  


{\ttfamily \#include "{}../\+LVFV\+\_\+system.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+err.\+h"{}}\newline
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{rtc_8h_ae110c54d6d4dcbd67211a1ac02cdc222}{init\+RTC}} ()
\begin{DoxyCompactList}\small\item\em Inicializa el RTC en la hora 00\+:00\+:00. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{rtc_8h_a18ec0d194dc994434090b873251093b0}{set\+Time}} (struct tm \texorpdfstring{$\ast$}{*}setting\+\_\+time)
\begin{DoxyCompactList}\small\item\em Inicializa el RTC en la hora cargada en setting\+\_\+time. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{rtc_8h_adb9ac05b0bcd1cc3769f8a9931d90c06}{rtc\+\_\+schedule\+\_\+alarms}} (\mbox{\hyperlink{structtime__settings__t}{time\+\_\+settings\+\_\+t}} \texorpdfstring{$\ast$}{*}time\+\_\+settings)
\begin{DoxyCompactList}\small\item\em Inicializa las alarmas de inicio y fin de funcionamiento del motor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{rtc_8h_a044acdfeee0cbf154bb9679e46b9bcf9}{get\+Time}} (struct tm \texorpdfstring{$\ast$}{*}current\+\_\+timeinfo)
\begin{DoxyCompactList}\small\item\em Carga la hora actuak desde el RTC del ESP32. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Header con prototipos de funciones básicas para el lectura y escritura del RTC y alarmas. 

\begin{DoxyAuthor}{Autor}
Andrenacci -\/ Carra 
\end{DoxyAuthor}
\begin{DoxyVersion}{Versión}
2.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Fecha}
2025-\/11-\/06 
\end{DoxyDate}


Definición en el archivo \mbox{\hyperlink{rtc_8h_source}{rtc.\+h}}.



\label{doc-func-members}
\Hypertarget{rtc_8h_doc-func-members}
\doxysubsection{Documentación de funciones}
\Hypertarget{rtc_8h_a044acdfeee0cbf154bb9679e46b9bcf9}\index{rtc.h@{rtc.h}!getTime@{getTime}}
\index{getTime@{getTime}!rtc.h@{rtc.h}}
\doxysubsubsection{\texorpdfstring{getTime()}{getTime()}}
{\footnotesize\ttfamily \label{rtc_8h_a044acdfeee0cbf154bb9679e46b9bcf9} 
esp\+\_\+err\+\_\+t get\+Time (\begin{DoxyParamCaption}\item[{struct tm \texorpdfstring{$\ast$}{*}}]{current\+\_\+timeinfo}{}\end{DoxyParamCaption})}



Carga la hora actuak desde el RTC del ESP32. 

Lee la hora del RTC del ESP32 expresada en unix time y la convierte en un formato entendible por el usuario en la estructura {\ttfamily current\+\_\+timeinfo} 


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in}}  & {\em current\+\_\+timeinfo} & Esturctura tm en donde se cargará la fecha y hora del sistema.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}

\begin{DoxyItemize}
\item ESP\+\_\+\+OK si carga la hora exitosamente.
\item ESP\+\_\+\+ERR\+\_\+\+INVALID\+\_\+\+ARG si {\ttfamily current\+\_\+timeinfo} es NULL 
\end{DoxyItemize}
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{rtc_8c_source_l00124}{124}} del archivo \mbox{\hyperlink{rtc_8c_source}{rtc.\+c}}.

\Hypertarget{rtc_8h_ae110c54d6d4dcbd67211a1ac02cdc222}\index{rtc.h@{rtc.h}!initRTC@{initRTC}}
\index{initRTC@{initRTC}!rtc.h@{rtc.h}}
\doxysubsubsection{\texorpdfstring{initRTC()}{initRTC()}}
{\footnotesize\ttfamily \label{rtc_8h_ae110c54d6d4dcbd67211a1ac02cdc222} 
esp\+\_\+err\+\_\+t init\+RTC (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Inicializa el RTC en la hora 00\+:00\+:00. 

No es importante el día configurado para el sistema, pero carga la hora 0 de UNIX\+\_\+\+TIME.

\begin{DoxyReturn}{Devuelve}

\begin{DoxyItemize}
\item ESP\+\_\+\+OK siempre. 
\end{DoxyItemize}
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{rtc_8c_source_l00092}{92}} del archivo \mbox{\hyperlink{rtc_8c_source}{rtc.\+c}}.

\Hypertarget{rtc_8h_adb9ac05b0bcd1cc3769f8a9931d90c06}\index{rtc.h@{rtc.h}!rtc\_schedule\_alarms@{rtc\_schedule\_alarms}}
\index{rtc\_schedule\_alarms@{rtc\_schedule\_alarms}!rtc.h@{rtc.h}}
\doxysubsubsection{\texorpdfstring{rtc\_schedule\_alarms()}{rtc\_schedule\_alarms()}}
{\footnotesize\ttfamily \label{rtc_8h_adb9ac05b0bcd1cc3769f8a9931d90c06} 
esp\+\_\+err\+\_\+t rtc\+\_\+schedule\+\_\+alarms (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtime__settings__t}{time\+\_\+settings\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{time\+\_\+settings}{}\end{DoxyParamCaption})}



Inicializa las alarmas de inicio y fin de funcionamiento del motor. 

La hora y minuto cargada en time\+\_\+start es la que dará inicio al funcionamiento del motor, mientas que la cargada en time\+\_\+stop será la que finalizará el mismo.


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in}}  & {\em time\+\_\+settings} & Esturctura \doxylink{structtime__settings__t}{time\+\_\+settings\+\_\+t} que contiene los horarios de alarma de inicio y fin. Además contiene la hora actual, una variable que no es utilizada por la función.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}

\begin{DoxyItemize}
\item ESP\+\_\+\+OK si Configura las alarmas exitosamente.
\item ESP\+\_\+\+FAIL si falla en la creación de las alarmas. 
\end{DoxyItemize}
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{rtc_8c_source_l00137}{137}} del archivo \mbox{\hyperlink{rtc_8c_source}{rtc.\+c}}.

\Hypertarget{rtc_8h_a18ec0d194dc994434090b873251093b0}\index{rtc.h@{rtc.h}!setTime@{setTime}}
\index{setTime@{setTime}!rtc.h@{rtc.h}}
\doxysubsubsection{\texorpdfstring{setTime()}{setTime()}}
{\footnotesize\ttfamily \label{rtc_8h_a18ec0d194dc994434090b873251093b0} 
esp\+\_\+err\+\_\+t set\+Time (\begin{DoxyParamCaption}\item[{struct tm \texorpdfstring{$\ast$}{*}}]{setting\+\_\+time}{}\end{DoxyParamCaption})}



Inicializa el RTC en la hora cargada en setting\+\_\+time. 

No es importante el día configurado para el sistema, pero carga la hora 0 de UNIX\+\_\+\+TIME.


\begin{DoxyParams}[1]{Parámetros}
\mbox{\texttt{in}}  & {\em setting\+\_\+time} & Esturctura tm que es cargada en el RTC del ESP32 según su año, mes, día, hora, minuto y segundo.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}

\begin{DoxyItemize}
\item ESP\+\_\+\+OK si carga el horario correctamente.
\item ESP\+\_\+\+ERR\+\_\+\+INVALID\+\_\+\+ARG en caso de recibir un puntero NULL 
\end{DoxyItemize}
\end{DoxyReturn}


Definición en la línea \mbox{\hyperlink{rtc_8c_source_l00107}{107}} del archivo \mbox{\hyperlink{rtc_8c_source}{rtc.\+c}}.

