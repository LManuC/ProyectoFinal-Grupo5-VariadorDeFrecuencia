<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Low Voltage Variable Frequency Drive: Referencia del archivo C:/Users/User/LVFV_ESP32/main/nvs/nvs.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="DoxyPic.jpeg"/></td>
  <td id="projectalign">
   <div id="projectname">Low Voltage Variable Frequency Drive<span id="projectnumber">&#160;2.1</span>
   </div>
   <div id="projectbrief">Proyecto final Andrenacci-Carra 2025. Variador de frecuencia de motor trifásico 1/3HP utilizando 12V de contínua como fuente de entrada de tensión.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Buscar',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('nvs_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Cargando...</div>
<div class="SRStatus" id="Searching">Buscando...</div>
<div class="SRStatus" id="NoMatches">Nada coincide</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Referencia del archivo nvs.c</div></div>
</div><!--header-->
<div class="contents">

<p>Funciones de lectura y escritura de variables no volátiles. Carga en sistema además las variables de seguridad al momento de ser guardadas en la memoria.  
<a href="#details">Más...</a></p>
<div class="textblock"><code>#include &quot;nvs_flash.h&quot;</code><br />
<code>#include &quot;<a class="el" href="nvs_8h_source.html">nvs.h</a>&quot;</code><br />
<code>#include &quot;esp_log.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_l_v_f_v__system_8h_source.html">../LVFV_system.h</a>&quot;</code><br />
</div>
<p><a href="nvs_8c_source.html">Ir al código fuente de este archivo.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
defines</h2></td></tr>
<tr class="memitem:a1570185c0844c3086083ad4265495bd6" id="r_a1570185c0844c3086083ad4265495bd6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1570185c0844c3086083ad4265495bd6">save_frequency</a>(freq_op)</td></tr>
<tr class="memitem:af67870d921ce25397422341b46942203" id="r_af67870d921ce25397422341b46942203"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af67870d921ce25397422341b46942203">save_acceleration</a>(freq_acceleration)</td></tr>
<tr class="memitem:ac113328abebdeeddfaf106f9cfe2db86" id="r_ac113328abebdeeddfaf106f9cfe2db86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac113328abebdeeddfaf106f9cfe2db86">save_desacceleration</a>(freq_desacceleration)</td></tr>
<tr class="memitem:afe2e52760dbc3442a748897ed18b1206" id="r_afe2e52760dbc3442a748897ed18b1206"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe2e52760dbc3442a748897ed18b1206">save_input_variable</a>(freq_input_variable)</td></tr>
<tr class="memitem:a46fb36a049ba19d30725c225747e5828" id="r_a46fb36a049ba19d30725c225747e5828"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46fb36a049ba19d30725c225747e5828">save_vbus_min</a>(vbus_min)</td></tr>
<tr class="memitem:a42158f367e878c412dd3f37dcf462a7c" id="r_a42158f367e878c412dd3f37dcf462a7c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42158f367e878c412dd3f37dcf462a7c">save_ibus_max</a>(ibus_max)</td></tr>
<tr class="memitem:a44f6d322a8815d8fc43c876ab1338525" id="r_a44f6d322a8815d8fc43c876ab1338525"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44f6d322a8815d8fc43c876ab1338525">save_hour_ini</a>(hour_ini)</td></tr>
<tr class="memitem:a2d76e5325e6708b32161921216b6333a" id="r_a2d76e5325e6708b32161921216b6333a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d76e5325e6708b32161921216b6333a">save_min_ini</a>(min_ini)</td></tr>
<tr class="memitem:a80d8770c1573486c37edda353df8e3a2" id="r_a80d8770c1573486c37edda353df8e3a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80d8770c1573486c37edda353df8e3a2">save_hour_fin</a>(hour_fin)</td></tr>
<tr class="memitem:a748d697288c81149145d4a8f650b564b" id="r_a748d697288c81149145d4a8f650b564b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a748d697288c81149145d4a8f650b564b">save_min_fin</a>(min_fin)</td></tr>
<tr class="memitem:a1ddc1e86d2b0aa565c03c5fbcf1f4a0f" id="r_a1ddc1e86d2b0aa565c03c5fbcf1f4a0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ddc1e86d2b0aa565c03c5fbcf1f4a0f">load_frequency</a>(freq_op)</td></tr>
<tr class="memitem:a0fa90eb3454471e28c2211cce3d26609" id="r_a0fa90eb3454471e28c2211cce3d26609"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fa90eb3454471e28c2211cce3d26609">load_acceleration</a>(freq_acceleration)</td></tr>
<tr class="memitem:a9f433adf6c44dd67fa9afb330cc5d0ad" id="r_a9f433adf6c44dd67fa9afb330cc5d0ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f433adf6c44dd67fa9afb330cc5d0ad">load_desacceleration</a>(freq_desacceleration)</td></tr>
<tr class="memitem:a70fed175d7bed57778bcc59bebfe1363" id="r_a70fed175d7bed57778bcc59bebfe1363"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70fed175d7bed57778bcc59bebfe1363">load_input_variable</a>(freq_input_variable)</td></tr>
<tr class="memitem:a7ce8874cac459174ced4242a1ade89d8" id="r_a7ce8874cac459174ced4242a1ade89d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ce8874cac459174ced4242a1ade89d8">load_vbus_min</a>(vbus_min)</td></tr>
<tr class="memitem:a4fcf54808b8c3867360514d0404b2ba5" id="r_a4fcf54808b8c3867360514d0404b2ba5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fcf54808b8c3867360514d0404b2ba5">load_ibus_max</a>(ibus_max)</td></tr>
<tr class="memitem:a35dae4c3d55de2d3eb0fcd1a96923002" id="r_a35dae4c3d55de2d3eb0fcd1a96923002"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35dae4c3d55de2d3eb0fcd1a96923002">load_hour_ini</a>(hour_ini)</td></tr>
<tr class="memitem:a85a7874c786b4e91038561cb0a03a30b" id="r_a85a7874c786b4e91038561cb0a03a30b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85a7874c786b4e91038561cb0a03a30b">load_min_ini</a>(min_ini)</td></tr>
<tr class="memitem:aeaa91810b27562dc975d4d28e5b07c43" id="r_aeaa91810b27562dc975d4d28e5b07c43"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeaa91810b27562dc975d4d28e5b07c43">load_hour_fin</a>(hour_fin)</td></tr>
<tr class="memitem:a7e5a969c7f67044cf69e916d99a25774" id="r_a7e5a969c7f67044cf69e916d99a25774"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e5a969c7f67044cf69e916d99a25774">load_min_fin</a>(min_fin)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Funciones</h2></td></tr>
<tr class="memitem:a05e32ed837064f05bc00ec4e5e67e2e4" id="r_a05e32ed837064f05bc00ec4e5e67e2e4"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a> (const char *var_tag, int16_t value)</td></tr>
<tr class="memdesc:a05e32ed837064f05bc00ec4e5e67e2e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accede a la memoria NVS para guardar un dato de 16 bits en memoria no volatil.  <br /></td></tr>
<tr class="memitem:aa3660d5ae265546ff8a232ae0c14c663" id="r_aa3660d5ae265546ff8a232ae0c14c663"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a> (const char *var_tag, int16_t *value, int16_t defval)</td></tr>
<tr class="memdesc:aa3660d5ae265546ff8a232ae0c14c663"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accede a la memoria NVS para obtener un dato de 16 bits guardado en memoria no volatil.  <br /></td></tr>
<tr class="memitem:a3da2b2c6e021ca7b976168dc8308b254" id="r_a3da2b2c6e021ca7b976168dc8308b254"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3da2b2c6e021ca7b976168dc8308b254">nvs_init_once</a> (void)</td></tr>
<tr class="memdesc:a3da2b2c6e021ca7b976168dc8308b254"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa la memoria NVS una única vez.  <br /></td></tr>
<tr class="memitem:a478715e615bb92a10014227cf9d89248" id="r_a478715e615bb92a10014227cf9d89248"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a478715e615bb92a10014227cf9d89248">load_variables</a> (<a class="el" href="structfrequency__settings__t.html">frequency_settings_t</a> *frequency_settings, <a class="el" href="structtime__settings__t.html">time_settings_t</a> *time_settings, <a class="el" href="structseccurity__settings__t.html">seccurity_settings_t</a> *seccurity_settings)</td></tr>
<tr class="memdesc:a478715e615bb92a10014227cf9d89248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carga desde NVS los parámetros de frecuencia, seguridad y ventanas horarias.  <br /></td></tr>
<tr class="memitem:ab46a7fb052466c1648288b24eced88f2" id="r_ab46a7fb052466c1648288b24eced88f2"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab46a7fb052466c1648288b24eced88f2">save_variables</a> (<a class="el" href="structfrequency__settings__t.html">frequency_settings_t</a> *frequency_settings, <a class="el" href="structtime__settings__t.html">time_settings_t</a> *time_settings, <a class="el" href="structseccurity__settings__t.html">seccurity_settings_t</a> *seccurity_settings)</td></tr>
<tr class="memdesc:ab46a7fb052466c1648288b24eced88f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Guarda en NVS los parámetros de frecuencia, seguridad y ventanas horarias.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5a85b9c772bbeb480b209a3e6ea92b4c" id="r_a5a85b9c772bbeb480b209a3e6ea92b4c"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a85b9c772bbeb480b209a3e6ea92b4c">TAG</a> = &quot;NVS&quot;</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Descripción detallada</h2>
<div class="textblock"><p>Funciones de lectura y escritura de variables no volátiles. Carga en sistema además las variables de seguridad al momento de ser guardadas en la memoria. </p>
<dl class="section author"><dt>Autor</dt><dd>Andrenacci - Carra </dd></dl>
<dl class="section version"><dt>Versión</dt><dd>2.0 </dd></dl>
<dl class="section date"><dt>Fecha</dt><dd>2025-11-06 </dd></dl>

<p class="definition">Definición en el archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Documentación de «define»</h2>
<a id="a0fa90eb3454471e28c2211cce3d26609" name="a0fa90eb3454471e28c2211cce3d26609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fa90eb3454471e28c2211cce3d26609">&#9670;&#160;</a></span>load_acceleration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_acceleration</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>freq_acceleration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;freq_acce&quot;</span>, (freq_acceleration), 5 )</div>
<div class="ttc" id="anvs_8c_html_aa3660d5ae265546ff8a232ae0c14c663"><div class="ttname"><a href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a></div><div class="ttdeci">static esp_err_t load_16(const char *var_tag, int16_t *value, int16_t defval)</div><div class="ttdoc">Accede a la memoria NVS para obtener un dato de 16 bits guardado en memoria no volatil.</div><div class="ttdef"><b>Definition</b> <a href="nvs_8c_source.html#l00203">nvs.c:203</a></div></div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00028">28</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a9f433adf6c44dd67fa9afb330cc5d0ad" name="a9f433adf6c44dd67fa9afb330cc5d0ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f433adf6c44dd67fa9afb330cc5d0ad">&#9670;&#160;</a></span>load_desacceleration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_desacceleration</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>freq_desacceleration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;freq_desa&quot;</span>, (freq_desacceleration), 3 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00029">29</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a1ddc1e86d2b0aa565c03c5fbcf1f4a0f" name="a1ddc1e86d2b0aa565c03c5fbcf1f4a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ddc1e86d2b0aa565c03c5fbcf1f4a0f">&#9670;&#160;</a></span>load_frequency</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_frequency</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>freq_op</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;freq_freq&quot;</span>, (freq_op), 50 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00027">27</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="aeaa91810b27562dc975d4d28e5b07c43" name="aeaa91810b27562dc975d4d28e5b07c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa91810b27562dc975d4d28e5b07c43">&#9670;&#160;</a></span>load_hour_fin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_hour_fin</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>hour_fin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;hour_fin&quot;</span>, (hour_fin), 20 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00035">35</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a35dae4c3d55de2d3eb0fcd1a96923002" name="a35dae4c3d55de2d3eb0fcd1a96923002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35dae4c3d55de2d3eb0fcd1a96923002">&#9670;&#160;</a></span>load_hour_ini</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_hour_ini</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>hour_ini</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;hour_ini&quot;</span>, (hour_ini), 20 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00033">33</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a4fcf54808b8c3867360514d0404b2ba5" name="a4fcf54808b8c3867360514d0404b2ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fcf54808b8c3867360514d0404b2ba5">&#9670;&#160;</a></span>load_ibus_max</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_ibus_max</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ibus_max</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;ibus_max&quot;</span>, (ibus_max), 2000 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00032">32</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a70fed175d7bed57778bcc59bebfe1363" name="a70fed175d7bed57778bcc59bebfe1363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70fed175d7bed57778bcc59bebfe1363">&#9670;&#160;</a></span>load_input_variable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_input_variable</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>freq_input_variable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;freq_input&quot;</span>, (freq_input_variable), 1 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00030">30</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a7e5a969c7f67044cf69e916d99a25774" name="a7e5a969c7f67044cf69e916d99a25774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5a969c7f67044cf69e916d99a25774">&#9670;&#160;</a></span>load_min_fin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_min_fin</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>min_fin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;min_fin&quot;</span>, (min_fin), 35 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00036">36</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a85a7874c786b4e91038561cb0a03a30b" name="a85a7874c786b4e91038561cb0a03a30b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a7874c786b4e91038561cb0a03a30b">&#9670;&#160;</a></span>load_min_ini</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_min_ini</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>min_ini</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;min_ini&quot;</span>, (min_ini), 30 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00034">34</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a7ce8874cac459174ced4242a1ade89d8" name="a7ce8874cac459174ced4242a1ade89d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce8874cac459174ced4242a1ade89d8">&#9670;&#160;</a></span>load_vbus_min</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define load_vbus_min</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vbus_min</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#aa3660d5ae265546ff8a232ae0c14c663">load_16</a>(<span class="stringliteral">&quot;vbus_min&quot;</span>, (vbus_min), 310 )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00031">31</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="af67870d921ce25397422341b46942203" name="af67870d921ce25397422341b46942203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67870d921ce25397422341b46942203">&#9670;&#160;</a></span>save_acceleration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_acceleration</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>freq_acceleration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;freq_acce&quot;</span>, (freq_acceleration) )</div>
<div class="ttc" id="anvs_8c_html_a05e32ed837064f05bc00ec4e5e67e2e4"><div class="ttname"><a href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a></div><div class="ttdeci">static esp_err_t save_16(const char *var_tag, int16_t value)</div><div class="ttdoc">Accede a la memoria NVS para guardar un dato de 16 bits en memoria no volatil.</div><div class="ttdef"><b>Definition</b> <a href="nvs_8c_source.html#l00104">nvs.c:104</a></div></div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00017">17</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="ac113328abebdeeddfaf106f9cfe2db86" name="ac113328abebdeeddfaf106f9cfe2db86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac113328abebdeeddfaf106f9cfe2db86">&#9670;&#160;</a></span>save_desacceleration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_desacceleration</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>freq_desacceleration</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;freq_desa&quot;</span>, (freq_desacceleration) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00018">18</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a1570185c0844c3086083ad4265495bd6" name="a1570185c0844c3086083ad4265495bd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1570185c0844c3086083ad4265495bd6">&#9670;&#160;</a></span>save_frequency</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_frequency</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>freq_op</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;freq_freq&quot;</span>, (freq_op) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00016">16</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a80d8770c1573486c37edda353df8e3a2" name="a80d8770c1573486c37edda353df8e3a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d8770c1573486c37edda353df8e3a2">&#9670;&#160;</a></span>save_hour_fin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_hour_fin</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>hour_fin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;hour_fin&quot;</span>, (hour_fin) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00024">24</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a44f6d322a8815d8fc43c876ab1338525" name="a44f6d322a8815d8fc43c876ab1338525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f6d322a8815d8fc43c876ab1338525">&#9670;&#160;</a></span>save_hour_ini</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_hour_ini</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>hour_ini</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;hour_ini&quot;</span>, (hour_ini) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00022">22</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a42158f367e878c412dd3f37dcf462a7c" name="a42158f367e878c412dd3f37dcf462a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42158f367e878c412dd3f37dcf462a7c">&#9670;&#160;</a></span>save_ibus_max</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_ibus_max</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ibus_max</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;ibus_max&quot;</span>, (ibus_max) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00021">21</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="afe2e52760dbc3442a748897ed18b1206" name="afe2e52760dbc3442a748897ed18b1206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2e52760dbc3442a748897ed18b1206">&#9670;&#160;</a></span>save_input_variable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_input_variable</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>freq_input_variable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;freq_input&quot;</span>, (freq_input_variable) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00019">19</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a748d697288c81149145d4a8f650b564b" name="a748d697288c81149145d4a8f650b564b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a748d697288c81149145d4a8f650b564b">&#9670;&#160;</a></span>save_min_fin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_min_fin</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>min_fin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;min_fin&quot;</span>, (min_fin) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00025">25</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a2d76e5325e6708b32161921216b6333a" name="a2d76e5325e6708b32161921216b6333a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d76e5325e6708b32161921216b6333a">&#9670;&#160;</a></span>save_min_ini</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_min_ini</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>min_ini</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;min_ini&quot;</span>, (min_ini) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00023">23</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a46fb36a049ba19d30725c225747e5828" name="a46fb36a049ba19d30725c225747e5828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46fb36a049ba19d30725c225747e5828">&#9670;&#160;</a></span>save_vbus_min</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define save_vbus_min</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vbus_min</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Valor:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#a05e32ed837064f05bc00ec4e5e67e2e4">save_16</a>(<span class="stringliteral">&quot;vbus_min&quot;</span>, (vbus_min) )</div>
</div><!-- fragment -->
<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00020">20</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Documentación de funciones</h2>
<a id="aa3660d5ae265546ff8a232ae0c14c663" name="aa3660d5ae265546ff8a232ae0c14c663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3660d5ae265546ff8a232ae0c14c663">&#9670;&#160;</a></span>load_16()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t load_16 </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>var_tag</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t</td>          <td class="paramname"><span class="paramname"><em>defval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accede a la memoria NVS para obtener un dato de 16 bits guardado en memoria no volatil. </p>
<p>Abre la memoria NVS con el namespace "storage" y intenta leer la variable cuyo namespace es <code class="param">var_tag</code> para guardarla en <code class="param">value</code>. En caso de error, guarda <code class="param">defval</code> como valor default en <code class="param">value</code>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_tag</td><td>Nombre del namespace donde se almacena la variable que se está intentando leer. Es un string.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Puntero donde se guardará el dato que se desea leer de la memoria.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defval</td><td>Valor default que se utiliza en caso que nunca se haya creado la variable o si existe algún problema al abrir la NVS.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores devueltos</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-</td><td>ESP_OK: Si la lectura de la variable fue exitosa<ul>
<li>ESP_FAIL: si hay un interno error; generalmente ocurre cuando la memoria tiene una oartición corrupta.</li>
<li>ESP_ERR_NVS_NOT_INITIALIZED: si la memoria no fue inicializada.</li>
<li>ESP_ERR_NVS_PART_NOT_FOUND: si la partición con la etiqueta "nvs" no se encuentra.</li>
<li>ESP_ERR_NVS_NOT_FOUND: id namespace doesn't exist yet and mode is NVS_READONLY.</li>
<li>ESP_ERR_NVS_INVALID_NAME: si el nombre del namespace no cumple con las restricciones.</li>
<li>ESP_ERR_NO_MEM: en caso que la memoria no puda ser guardada por la estructura interna.</li>
<li>ESP_ERR_NVS_NOT_ENOUGH_SPACE: Si no hay espacia para une nueva entrad o si hay demasiados namespaces diferentes (max 254).</li>
<li>ESP_ERR_NOT_ALLOWED: Si la partición es solo lectura y se abrió en modo NVS_READWRITE.</li>
<li>ESP_ERR_INVALID_ARG: Si el handler de la NVS es NULL. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00203">203</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a478715e615bb92a10014227cf9d89248" name="a478715e615bb92a10014227cf9d89248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a478715e615bb92a10014227cf9d89248">&#9670;&#160;</a></span>load_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t load_variables </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfrequency__settings__t.html">frequency_settings_t</a> *</td>          <td class="paramname"><span class="paramname"><em>frequency_settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtime__settings__t.html">time_settings_t</a> *</td>          <td class="paramname"><span class="paramname"><em>time_settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structseccurity__settings__t.html">seccurity_settings_t</a> *</td>          <td class="paramname"><span class="paramname"><em>seccurity_settings</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carga desde NVS los parámetros de frecuencia, seguridad y ventanas horarias. </p>
<p>Utiliza las funciones internas de lectura (load_16) para obtener cada parámetro persistido en NVS. Si alguna lectura falla, retorna el primer error encontrado. En caso de no existir una clave, se aplica el valor por defecto definido en cada macro de carga.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">frequency_settings</td><td>Estructura de parámetros de frecuencia a cargar.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">time_settings</td><td>Estructura de parámetros de tiempo (ventanas start/stop) a cargar.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">seccurity_settings</td><td>Estructura de parámetros de seguridad (vbus/ibus) a cargar.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores devueltos</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-</td><td>ESP_OK: Si todas las lecturas fueron exitosas (o claves ausentes con default aplicado).<ul>
<li>ESP_FAIL: si hay un error interno.</li>
<li>ESP_ERR_NVS_NOT_INITIALIZED: si la NVS no está inicializada.</li>
<li>ESP_ERR_NVS_PART_NOT_FOUND: si la partición "nvs" no se encuentra.</li>
<li>ESP_ERR_NVS_INVALID_NAME: si alguna clave no cumple restricciones.</li>
<li>ESP_ERR_NO_MEM / ESP_ERR_NVS_NOT_ENOUGH_SPACE: errores internos de la NVS.</li>
<li>ESP_ERR_NOT_ALLOWED: si la partición es solo lectura.</li>
<li>ESP_ERR_INVALID_ARG: si el handler interno de NVS es NULL. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00245">245</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a3da2b2c6e021ca7b976168dc8308b254" name="a3da2b2c6e021ca7b976168dc8308b254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da2b2c6e021ca7b976168dc8308b254">&#9670;&#160;</a></span>nvs_init_once()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t nvs_init_once </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inicializa la memoria NVS una única vez. </p>
<p>Intenta inicializar la NVS mediante nvs_flash_init(). Si la memoria está llena (ESP_ERR_NVS_NO_FREE_PAGES) o se detecta una nueva versión de NVS (ESP_ERR_NVS_NEW_VERSION_FOUND), se borra la partición NVS y se vuelve a inicializar. No realiza inicialización repetida si ya fue hecha por el sistema.</p>
<dl class="retval"><dt>Valores devueltos</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-</td><td>ESP_OK: Si la inicialización fue exitosa.<ul>
<li>ESP_ERR_NVS_NO_FREE_PAGES: Sin páginas libres; requiere borrado y reinicialización.</li>
<li>ESP_ERR_NVS_NEW_VERSION_FOUND: Versión de NVS incompatible; requiere borrado.</li>
<li>ESP_ERR_NVS_NOT_INITIALIZED: si la memoria no pudo inicializarse.</li>
<li>ESP_ERR_NVS_PART_NOT_FOUND: si la partición con la etiqueta "nvs" no se encuentra.</li>
<li>ESP_ERR_NOT_ALLOWED: Si la partición es solo lectura.</li>
<li>Otros códigos de error propagados por nvs_flash_init() o nvs_flash_erase(). </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00236">236</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="a05e32ed837064f05bc00ec4e5e67e2e4" name="a05e32ed837064f05bc00ec4e5e67e2e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e32ed837064f05bc00ec4e5e67e2e4">&#9670;&#160;</a></span>save_16()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t save_16 </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>var_tag</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accede a la memoria NVS para guardar un dato de 16 bits en memoria no volatil. </p>
<p>Abre la memoria NVS con el namespace "storage" y guarda la variable cuyo namespace es <code class="param">var_tag</code> para guardarla en <code class="param">value</code>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_tag</td><td>Nombre del namespace donde se almacenará la variable que se está intentando guardar. Es un string.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Puntero donde se guardará el dato que se desea guardar de la memoria.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores devueltos</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-</td><td>ESP_OK: Si la escritura de la variable fue exitosa<ul>
<li>ESP_FAIL: si hay un interno error; generalmente ocurre cuando la memoria tiene una oartición corrupta.</li>
<li>ESP_ERR_NVS_NOT_INITIALIZED: si la memoria no fue inicializada.</li>
<li>ESP_ERR_NVS_PART_NOT_FOUND: si la partición con la etiqueta "nvs" no se encuentra.</li>
<li>ESP_ERR_NVS_NOT_FOUND: id namespace doesn't exist yet and mode is NVS_READONLY.</li>
<li>ESP_ERR_NVS_INVALID_NAME: si el nombre del namespace no cumple con las restricciones.</li>
<li>ESP_ERR_NO_MEM: en caso que la memoria no puda ser guardada por la estructura interna.</li>
<li>ESP_ERR_NVS_NOT_ENOUGH_SPACE: Si no hay espacia para une nueva entrad o si hay demasiados namespaces diferentes (max 254).</li>
<li>ESP_ERR_NOT_ALLOWED: Si la partición es solo lectura y se abrió en modo NVS_READWRITE.</li>
<li>ESP_ERR_INVALID_ARG: Si el handler de la NVS es NULL. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00104">104</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a id="ab46a7fb052466c1648288b24eced88f2" name="ab46a7fb052466c1648288b24eced88f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab46a7fb052466c1648288b24eced88f2">&#9670;&#160;</a></span>save_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t save_variables </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfrequency__settings__t.html">frequency_settings_t</a> *</td>          <td class="paramname"><span class="paramname"><em>frequency_settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtime__settings__t.html">time_settings_t</a> *</td>          <td class="paramname"><span class="paramname"><em>time_settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structseccurity__settings__t.html">seccurity_settings_t</a> *</td>          <td class="paramname"><span class="paramname"><em>seccurity_settings</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Guarda en NVS los parámetros de frecuencia, seguridad y ventanas horarias. </p>
<p>Utiliza las funciones internas de guardado (save_16) para persistir cada parámetro en la NVS. Si alguna escritura falla, retorna el primer error encontrado.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">frequency_settings</td><td>Estructura con parámetros de frecuencia a guardar.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time_settings</td><td>Estructura con parámetros de tiempo (ventanas start/stop) a guardar.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seccurity_settings</td><td>Estructura con parámetros de seguridad (vbus/ibus) a guardar.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Valores devueltos</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-</td><td>ESP_OK: Si todas las escrituras fueron exitosas.<ul>
<li>ESP_FAIL: si hay un error interno.</li>
<li>ESP_ERR_NVS_NOT_INITIALIZED: si la NVS no está inicializada.</li>
<li>ESP_ERR_NVS_PART_NOT_FOUND: si la partición "nvs" no se encuentra.</li>
<li>ESP_ERR_NVS_INVALID_NAME: si alguna clave no cumple restricciones.</li>
<li>ESP_ERR_NO_MEM / ESP_ERR_NVS_NOT_ENOUGH_SPACE: errores internos de la NVS o espacio insuficiente.</li>
<li>ESP_ERR_NOT_ALLOWED: si la partición es solo lectura.</li>
<li>ESP_ERR_INVALID_ARG: si el handler interno de NVS es NULL. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00309">309</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Documentación de variables</h2>
<a id="a5a85b9c772bbeb480b209a3e6ea92b4c" name="a5a85b9c772bbeb480b209a3e6ea92b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a85b9c772bbeb480b209a3e6ea92b4c">&#9670;&#160;</a></span>TAG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* TAG = &quot;NVS&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definición en la línea <a class="el" href="nvs_8c_source.html#l00038">38</a> del archivo <a class="el" href="nvs_8c_source.html">nvs.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a href="dir_ff79468534f4d57a62dcb8879a1832de.html">nvs</a></li><li class="navelem"><a href="nvs_8c.html">nvs.c</a></li>
    <li class="footer">Generado por <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
